{"ast":null,"code":"import _objectSpread from\"C:/Users/Dell/weather/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import'./App.css';import{fetchWeatherByCoords,searchCities,fetchAirQualityByCoords}from'./api';import lottie from'lottie-web';import{rainyMascotAnimation,sunnyMascotAnimation,coldMascotAnimation,mildMascotAnimation}from'./animations';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){let{children}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:children});}function Header(_ref2){let{title}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"location\",children:[title||'Search a city',\" \\u2218\"]}),/*#__PURE__*/_jsx(\"div\",{style:{width:28}})]});}function WeatherMascot(_ref3){let{weatherCondition}=_ref3;const containerRef=React.useRef(null);const animationRef=React.useRef(null);const[useLottie,setUseLottie]=React.useState(false);React.useEffect(()=>{if(!containerRef.current)return;// Clean up previous animation\nif(animationRef.current){animationRef.current.destroy();animationRef.current=null;}// Map weather conditions to Lottie animations\nconst animationMap={rain:rainyMascotAnimation,sunny:sunnyMascotAnimation,cold:coldMascotAnimation,cloudy:mildMascotAnimation,mild:mildMascotAnimation};const animationData=animationMap[weatherCondition];if(animationData){try{animationRef.current=lottie.loadAnimation({container:containerRef.current,renderer:'svg',loop:true,autoplay:true,animationData:animationData});setUseLottie(true);}catch(error){console.error('Failed to load Lottie animation:',error);setUseLottie(false);}}else{setUseLottie(false);}return()=>{if(animationRef.current){try{animationRef.current.destroy();}catch(e){}animationRef.current=null;}};},[weatherCondition]);if(useLottie){return/*#__PURE__*/_jsx(\"div\",{className:\"weather-mascot\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mascot-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"lottie-container\",ref:containerRef})})});}// Fallback to emoji if Lottie fails\nconst getMascotEmoji=condition=>{switch(condition){case'rain':return'🌧️';case'sunny':return'☀️';case'cold':return'❄️';case'cloudy':return'☁️';default:return'🌤️';}};return/*#__PURE__*/_jsx(\"div\",{className:\"weather-mascot\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mascot-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mascot-person\",children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'32px',animation:'mascotFloat 3s ease-in-out infinite'},children:getMascotEmoji(weatherCondition)})})})});}function SunPath(_ref4){let{sunrise,sunset}=_ref4;const now=new Date();const sunriseTime=new Date(sunrise);const sunsetTime=new Date(sunset);const currentTime=now.getTime();const sunriseMs=sunriseTime.getTime();const sunsetMs=sunsetTime.getTime();// Calculate sun position (0-100%)\nlet sunPosition=0;if(currentTime>=sunriseMs&&currentTime<=sunsetMs){const totalDaylight=sunsetMs-sunriseMs;const elapsed=currentTime-sunriseMs;sunPosition=elapsed/totalDaylight*100;}else if(currentTime>sunsetMs){sunPosition=100;}return/*#__PURE__*/_jsxs(\"div\",{className:\"sun-path-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sun-path\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sun-icon\",style:{left:\"\".concat(sunPosition,\"%\")},children:\"\\u2600\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sun-times\",children:[/*#__PURE__*/_jsx(\"span\",{children:sunriseTime.toLocaleTimeString([],{hour:'numeric',minute:'2-digit'})}),/*#__PURE__*/_jsx(\"span\",{children:sunsetTime.toLocaleTimeString([],{hour:'numeric',minute:'2-digit'})})]})]});}function WeatherDetailsGrid(_ref5){var _data$current$humidit,_data$current,_data$current$windKmh,_data$current2,_data$sun$uvMax,_data$sun,_data$current$pressur,_data$current3,_data$current4,_data$current$dewPoin,_data$current5;let{data}=_ref5;const metrics=[{label:'Humidity',value:\"\".concat((_data$current$humidit=data===null||data===void 0?void 0:(_data$current=data.current)===null||_data$current===void 0?void 0:_data$current.humidity)!==null&&_data$current$humidit!==void 0?_data$current$humidit:'--',\"%\")},{label:'Wind',value:\"\".concat(Math.round((_data$current$windKmh=data===null||data===void 0?void 0:(_data$current2=data.current)===null||_data$current2===void 0?void 0:_data$current2.windKmh)!==null&&_data$current$windKmh!==void 0?_data$current$windKmh:0),\" km/h\")},{label:'UV Index',value:(_data$sun$uvMax=data===null||data===void 0?void 0:(_data$sun=data.sun)===null||_data$sun===void 0?void 0:_data$sun.uvMax)!==null&&_data$sun$uvMax!==void 0?_data$sun$uvMax:'--'},{label:'Pressure',value:\"\".concat(Math.round((_data$current$pressur=data===null||data===void 0?void 0:(_data$current3=data.current)===null||_data$current3===void 0?void 0:_data$current3.pressureMb)!==null&&_data$current$pressur!==void 0?_data$current$pressur:0),\" mb\")},{label:'Visibility',value:data!==null&&data!==void 0&&(_data$current4=data.current)!==null&&_data$current4!==void 0&&_data$current4.visibilityKm?\"\".concat(data.current.visibilityKm.toFixed(1),\" km\"):'--'},{label:'Dew Point',value:\"\".concat(Math.round((_data$current$dewPoin=data===null||data===void 0?void 0:(_data$current5=data.current)===null||_data$current5===void 0?void 0:_data$current5.dewPoint)!==null&&_data$current$dewPoin!==void 0?_data$current$dewPoin:0),\"\\xB0\")}];return/*#__PURE__*/_jsx(\"div\",{className:\"weather-grid\",children:metrics.map((metric,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"weather-metric\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-label\",children:metric.label}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-value\",children:metric.value})]},index))});}function DailyForecast(_ref6){let{data}=_ref6;const days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];const getWeatherIcon=temp=>{if(temp>=35)return'☀️';if(temp>=30)return'🌤️';if(temp>=25)return'⛅';if(temp>=20)return'☁️';return'🌧️';};const getCloudType=temp=>{if(temp>=35)return'☀️';if(temp>=30)return'🌤️';if(temp>=25)return'⛅';if(temp>=20)return'☁️';return'🌧️';};return/*#__PURE__*/_jsx(\"div\",{className:\"daily-forecast\",children:((data===null||data===void 0?void 0:data.daily)||[]).slice(0,7).map((day,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"daily-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"daily-clouds\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"cloud-1\",style:{animationDelay:\"\".concat(i*0.5,\"s\")},children:getCloudType(day.max)}),/*#__PURE__*/_jsx(\"span\",{className:\"cloud-2\",style:{animationDelay:\"\".concat(i*0.7,\"s\")},children:\"\\u2601\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"cloud-3\",style:{animationDelay:\"\".concat(i*0.3,\"s\")},children:\"\\u2601\\uFE0F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"daily-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"daily-day\",children:day.date?new Date(day.date).toLocaleDateString(undefined,{weekday:'long'}):days[i]}),/*#__PURE__*/_jsxs(\"div\",{className:\"daily-temps\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"daily-high\",children:[Math.round(day.max),\"\\xB0\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"daily-low\",children:[Math.round(day.min),\"\\xB0\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"daily-weather-icon\",children:getWeatherIcon(day.max)})]},i))});}function GeminiSummary(_ref7){let{data,onGenerateSummary,summary,isLoading}=_ref7;const handleGenerate=()=>{if(data){onGenerateSummary(data);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"gemini-button\",onClick:handleGenerate,disabled:isLoading,children:isLoading?'Generating...':'Get Weather Summary'}),summary&&/*#__PURE__*/_jsxs(\"div\",{className:\"gemini-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Weather Summary\"}),/*#__PURE__*/_jsx(\"p\",{children:summary})]})]});}function CurrentWeather(_ref8){var _data$current$temp,_data$current6,_data$current$feelsLi,_data$current7,_data$daily$0$min,_data$daily,_data$daily$,_data$daily$0$max,_data$daily2,_data$daily2$;let{data}=_ref8;const temp=Math.round((_data$current$temp=data===null||data===void 0?void 0:(_data$current6=data.current)===null||_data$current6===void 0?void 0:_data$current6.temp)!==null&&_data$current$temp!==void 0?_data$current$temp:31);const feels=Math.round((_data$current$feelsLi=data===null||data===void 0?void 0:(_data$current7=data.current)===null||_data$current7===void 0?void 0:_data$current7.feelsLike)!==null&&_data$current$feelsLi!==void 0?_data$current$feelsLi:37);const min=Math.round((_data$daily$0$min=data===null||data===void 0?void 0:(_data$daily=data.daily)===null||_data$daily===void 0?void 0:(_data$daily$=_data$daily[0])===null||_data$daily$===void 0?void 0:_data$daily$.min)!==null&&_data$daily$0$min!==void 0?_data$daily$0$min:25);const max=Math.round((_data$daily$0$max=data===null||data===void 0?void 0:(_data$daily2=data.daily)===null||_data$daily2===void 0?void 0:(_data$daily2$=_data$daily2[0])===null||_data$daily2$===void 0?void 0:_data$daily2$.max)!==null&&_data$daily$0$max!==void 0?_data$daily$0$max:32);// Determine weather condition\nconst getWeatherCondition=()=>{var _data$current$humidit2,_data$current8,_data$hourly$0$pop,_data$hourly,_data$hourly$;const humidity=(_data$current$humidit2=data===null||data===void 0?void 0:(_data$current8=data.current)===null||_data$current8===void 0?void 0:_data$current8.humidity)!==null&&_data$current$humidit2!==void 0?_data$current$humidit2:0;const pop=(_data$hourly$0$pop=data===null||data===void 0?void 0:(_data$hourly=data.hourly)===null||_data$hourly===void 0?void 0:(_data$hourly$=_data$hourly[0])===null||_data$hourly$===void 0?void 0:_data$hourly$.pop)!==null&&_data$hourly$0$pop!==void 0?_data$hourly$0$pop:0;if(humidity>70&&pop>50)return'rain';if(temp<=18)return'cold';if(temp>=34)return'sunny';return'cloudy';};return/*#__PURE__*/_jsxs(\"div\",{className:\"current\",children:[/*#__PURE__*/_jsx(WeatherMascot,{weatherCondition:getWeatherCondition()}),/*#__PURE__*/_jsxs(\"div\",{className:\"temp\",children:[temp,\"\\xB0\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"desc\",children:[' ',data?'Updated':'Fog']}),/*#__PURE__*/_jsxs(\"div\",{className:\"range\",children:[max,\"\\xB0 / \",min,\"\\xB0 Feels like \",feels,\"\\xB0\"]})]});}function HourlyCard(_ref9){var _data$hourly2;let{data}=_ref9;return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-title\",children:\"6:00 AM - 6:00 PM Forecast. Highs 31 to 33\\xB0C and lows 24 to 26\\xB0C.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hourly\",children:((_data$hourly2=data===null||data===void 0?void 0:data.hourly)!==null&&_data$hourly2!==void 0?_data$hourly2:Array.from({length:12})).map((h,i)=>{var _h$temp,_h$pop;// Start from 6:00 AM and go to 6:00 PM (12 hours)\nconst baseDate=new Date();baseDate.setHours(6,0,0,0);// Set to 6:00 AM\nconst date=h!==null&&h!==void 0&&h.time?new Date(h.time):new Date(baseDate.getTime()+i*60*60*1000);const hour=date.getHours();const hour12=hour%12||12;const mer=hour<12?'am':'pm';// More realistic temperature curve for 6 AM to 6 PM\nconst baseTemp=22;// Starting temperature at 6 AM\nconst tempVariation=Math.sin(i/11*Math.PI)*8;// Peak around midday\nconst temp=Math.round((_h$temp=h===null||h===void 0?void 0:h.temp)!==null&&_h$temp!==void 0?_h$temp:baseTemp+tempVariation+i%2);const pop=(_h$pop=h===null||h===void 0?void 0:h.pop)!==null&&_h$pop!==void 0?_h$pop:Math.round(Math.random()*100);// Get appropriate weather icon based on temperature\nconst getWeatherIcon=temp=>{if(temp>=30)return'☀️';if(temp>=25)return'🌤️';if(temp>=20)return'⛅';return'☁️';};return/*#__PURE__*/_jsxs(\"div\",{className:\"hour\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hour-time\",children:[hour12,\":00 \",mer]}),/*#__PURE__*/_jsx(\"div\",{className:\"hour-icon\",children:getWeatherIcon(temp)}),/*#__PURE__*/_jsxs(\"div\",{className:\"hour-temp\",children:[temp,\"\\xB0\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hour-pop\",children:[pop,\"%\"]})]},i);})})]});}function RainCard(){return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"rain-chart\",children:Array.from({length:7}).map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"bar\",style:{height:12+i%4*14}},i))}),/*#__PURE__*/_jsx(\"div\",{className:\"rain-scale\",children:['0.0','0.32','1.43','1.51','0.01','0.0','0.0'].map((v,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"tick\",children:v},i))})]});}function AlertCard(){const slides=[{title:'Grab an Umbrella!',sub:'Thunderstorms possible after 14:00',qty:'3mm'},{title:'Heat Alert',sub:'High UV today between 11:00–15:00',qty:'UV 9'},{title:'Air Quality',sub:'AQI is Moderate in your area',qty:'AQI 35'},{title:'Windy Evening',sub:'Gusts up to 30 km/h after 18:00',qty:'30 km/h'}];const[idx,setIdx]=React.useState(0);const ref=React.useRef(null);React.useEffect(()=>{const id=setInterval(()=>setIdx(i=>(i+1)%slides.length),3500);return()=>clearInterval(id);},[slides.length]);React.useEffect(()=>{if(ref.current)ref.current.style.transform=\"translateX(-\".concat(idx*100,\"%)\");},[idx]);return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"carousel\",onMouseEnter:()=>clearInterval(),children:/*#__PURE__*/_jsx(\"div\",{className:\"slides\",ref:ref,children:slides.map((s,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"slide\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert-title\",children:s.title}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-sub\",children:s.sub})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-amount\",children:s.qty})]})},i))})}),/*#__PURE__*/_jsx(\"div\",{className:\"dots\",children:slides.map((_,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"dot \".concat(i===idx?'active':''),onClick:()=>setIdx(i)},i))})]});}export default function App(){var _data$current1,_data$current10,_data$daily3,_data$hourly4,_data$sun2,_data$sun3;const[data,setData]=React.useState(null);const[error,setError]=React.useState(null);const[loading,setLoading]=React.useState(true);const[query,setQuery]=React.useState('');const[suggestions,setSuggestions]=React.useState([]);const[title,setTitle]=React.useState('Mevalurkuppam');const[unit,setUnit]=React.useState('C');// 'C' | 'F'\nconst[,setAqi]=React.useState(null);const[theme,setTheme]=React.useState('theme-mild');const[geminiSummary,setGeminiSummary]=React.useState('');const[isGeneratingSummary,setIsGeneratingSummary]=React.useState(false);// Gemini API integration\nconst generateWeatherSummary=async weatherData=>{setIsGeneratingSummary(true);try{var _weatherData$current$,_weatherData$current,_weatherData$current$2,_weatherData$current2,_weatherData$current$3,_weatherData$current3,_weatherData$current$4,_weatherData$current4,_weatherData$daily$0$,_weatherData$daily,_weatherData$daily$,_weatherData$daily$0$2,_weatherData$daily2,_weatherData$daily2$;// Generate a friendly, concise weather summary based on this data:\n// Current temperature: ${Math.round(weatherData.current?.temp ?? 0)}°C\n// Feels like: ${Math.round(weatherData.current?.feelsLike ?? 0)}°C\n// Humidity: ${weatherData.current?.humidity ?? 0}%\n// Wind: ${Math.round(weatherData.current?.windKmh ?? 0)} km/h\n// Daily high: ${Math.round(weatherData.daily?.[0]?.max ?? 0)}°C\n// Daily low: ${Math.round(weatherData.daily?.[0]?.min ?? 0)}°C\n// UV Index: ${weatherData.sun?.uvMax ?? 'N/A'}\n// \n// Please provide a natural, conversational summary in 2-3 sentences.\n// For demo purposes, we'll generate a mock summary\n// In a real implementation, you would call the Gemini API here\nconst mockSummary=\"Today's weather is \".concat(Math.round((_weatherData$current$=(_weatherData$current=weatherData.current)===null||_weatherData$current===void 0?void 0:_weatherData$current.temp)!==null&&_weatherData$current$!==void 0?_weatherData$current$:0),\"\\xB0C with \").concat((_weatherData$current$2=(_weatherData$current2=weatherData.current)===null||_weatherData$current2===void 0?void 0:_weatherData$current2.humidity)!==null&&_weatherData$current$2!==void 0?_weatherData$current$2:0,\"% humidity. It feels like \").concat(Math.round((_weatherData$current$3=(_weatherData$current3=weatherData.current)===null||_weatherData$current3===void 0?void 0:_weatherData$current3.feelsLike)!==null&&_weatherData$current$3!==void 0?_weatherData$current$3:0),\"\\xB0C with winds at \").concat(Math.round((_weatherData$current$4=(_weatherData$current4=weatherData.current)===null||_weatherData$current4===void 0?void 0:_weatherData$current4.windKmh)!==null&&_weatherData$current$4!==void 0?_weatherData$current$4:0),\" km/h. Expect temperatures ranging from \").concat(Math.round((_weatherData$daily$0$=(_weatherData$daily=weatherData.daily)===null||_weatherData$daily===void 0?void 0:(_weatherData$daily$=_weatherData$daily[0])===null||_weatherData$daily$===void 0?void 0:_weatherData$daily$.min)!==null&&_weatherData$daily$0$!==void 0?_weatherData$daily$0$:0),\"\\xB0C to \").concat(Math.round((_weatherData$daily$0$2=(_weatherData$daily2=weatherData.daily)===null||_weatherData$daily2===void 0?void 0:(_weatherData$daily2$=_weatherData$daily2[0])===null||_weatherData$daily2$===void 0?void 0:_weatherData$daily2$.max)!==null&&_weatherData$daily$0$2!==void 0?_weatherData$daily$0$2:0),\"\\xB0C throughout the day.\");setGeminiSummary(mockSummary);}catch(error){console.error('Error generating summary:',error);setGeminiSummary('Sorry, I couldn\\'t generate a weather summary at this time.');}finally{setIsGeneratingSummary(false);}};React.useEffect(()=>{async function onPosition(_ref0){let{coords}=_ref0;try{const[w,a]=await Promise.all([fetchWeatherByCoords(coords.latitude,coords.longitude),fetchAirQualityByCoords(coords.latitude,coords.longitude)]);setData(w);setAqi(a);}catch(e){setError(e);}finally{setLoading(false);}}async function onError(){try{const[w,a]=await Promise.all([fetchWeatherByCoords(13.0827,80.2707),fetchAirQualityByCoords(13.0827,80.2707)]);setData(w);setAqi(a);}catch(e){setError(e);}finally{setLoading(false);}}if(navigator.geolocation)navigator.geolocation.getCurrentPosition(onPosition,onError);else onError();},[]);React.useEffect(()=>{let active=true;const t=setTimeout(()=>{searchCities(query).then(res=>{if(active)setSuggestions(res);});},250);return()=>{active=false;clearTimeout(t);};},[query]);React.useEffect(()=>{function onClick(e){const container=document.querySelector('.search');if(container&&!container.contains(e.target))setSuggestions([]);}window.addEventListener('click',onClick);return()=>window.removeEventListener('click',onClick);},[]);function onPick(city){setTitle([city.name,city.admin1,city.country].filter(Boolean).join(', '));setSuggestions([]);setQuery('');setLoading(true);Promise.all([fetchWeatherByCoords(city.latitude,city.longitude),fetchAirQualityByCoords(city.latitude,city.longitude)]).then(_ref1=>{let[w,a]=_ref1;setData(w);setAqi(a);}).catch(setError).finally(()=>setLoading(false));}function toUnit(celsius){if(celsius==null)return celsius;return unit==='C'?Math.round(celsius):Math.round(celsius*9/5+32);}React.useEffect(()=>{const root=document.querySelector('.parallax');if(!root)return;function onMove(e){const{innerWidth:w,innerHeight:h}=window;const x=(e.clientX/w-0.5)*2;const y=(e.clientY/h-0.5)*2;const layers=root.querySelectorAll('.layer');layers.forEach((el,i)=>{const depth=i===0?10:20;el.style.transform=\"translateZ(\".concat(-150-i*100,\"px) translate(\").concat(x*depth,\"px, \").concat(y*depth,\"px) scale(\").concat(1.2+i*0.2,\")\");});document.documentElement.style.setProperty('--tiltX',\"\".concat(x*2,\"deg\"));document.documentElement.style.setProperty('--tiltY',\"\".concat(-y*2,\"deg\"));}window.addEventListener('mousemove',onMove);return()=>window.removeEventListener('mousemove',onMove);},[]);// Gyro support (mobile)\nReact.useEffect(()=>{function handleOrientation(e){const x=(e.gamma||0)/45;// left-right\nconst y=(e.beta||0)/45;// front-back\ndocument.documentElement.style.setProperty('--tiltX',\"\".concat(x,\"deg\"));document.documentElement.style.setProperty('--tiltY',\"\".concat(-y,\"deg\"));}window.addEventListener('deviceorientation',handleOrientation);return()=>window.removeEventListener('deviceorientation',handleOrientation);},[]);// Theme from weather\nReact.useEffect(()=>{var _data$current$temp2,_data$current9,_data$current$humidit3,_data$current0,_data$hourly$0$pop2,_data$hourly3,_data$hourly3$;if(!data)return;const t=(_data$current$temp2=(_data$current9=data.current)===null||_data$current9===void 0?void 0:_data$current9.temp)!==null&&_data$current$temp2!==void 0?_data$current$temp2:26;const humidity=(_data$current$humidit3=(_data$current0=data.current)===null||_data$current0===void 0?void 0:_data$current0.humidity)!==null&&_data$current$humidit3!==void 0?_data$current$humidit3:0;const pop=(_data$hourly$0$pop2=(_data$hourly3=data.hourly)===null||_data$hourly3===void 0?void 0:(_data$hourly3$=_data$hourly3[0])===null||_data$hourly3$===void 0?void 0:_data$hourly3$.pop)!==null&&_data$hourly$0$pop2!==void 0?_data$hourly$0$pop2:0;const newTheme=humidity>70&&pop>50?'theme-rain':t<=18?'theme-cold':t>=34?'theme-hot':'theme-mild';setTheme(newTheme);},[data]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app \".concat(theme),children:[/*#__PURE__*/_jsx(\"div\",{className:\"gradient\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"parallax\",\"aria-hidden\":true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"layer one\"}),/*#__PURE__*/_jsx(\"div\",{className:\"layer two stars\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(Header,{title:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"toggle \".concat(unit==='C'?'active':''),onClick:()=>setUnit('C'),children:\"\\xB0C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle \".concat(unit==='F'?'active':''),onClick:()=>setUnit('F'),children:\"\\xB0F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{value:query,onChange:e=>setQuery(e.target.value),placeholder:\"Search city or town\"}),suggestions.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"suggestions\",children:suggestions.map(s=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onPick(s),children:[s.name,s.admin1?\", \".concat(s.admin1):'',\", \",s.country]},s.id))})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:\"Failed to load weather.\"}),/*#__PURE__*/_jsx(CurrentWeather,{data:data?_objectSpread(_objectSpread({},data),{},{current:_objectSpread(_objectSpread({},data.current),{},{temp:toUnit((_data$current1=data.current)===null||_data$current1===void 0?void 0:_data$current1.temp),feelsLike:toUnit((_data$current10=data.current)===null||_data$current10===void 0?void 0:_data$current10.feelsLike)}),daily:(_data$daily3=data.daily)===null||_data$daily3===void 0?void 0:_data$daily3.map(d=>_objectSpread(_objectSpread({},d),{},{max:toUnit(d.max),min:toUnit(d.min)}))}):null}),/*#__PURE__*/_jsxs(\"div\",{className:\"stack\",children:[/*#__PURE__*/_jsx(HourlyCard,{data:data?_objectSpread(_objectSpread({},data),{},{hourly:(_data$hourly4=data.hourly)===null||_data$hourly4===void 0?void 0:_data$hourly4.map(h=>_objectSpread(_objectSpread({},h),{},{temp:toUnit(h.temp)}))}):null}),data&&/*#__PURE__*/_jsx(WeatherDetailsGrid,{data:data}),(data===null||data===void 0?void 0:(_data$sun2=data.sun)===null||_data$sun2===void 0?void 0:_data$sun2.sunrise)&&(data===null||data===void 0?void 0:(_data$sun3=data.sun)===null||_data$sun3===void 0?void 0:_data$sun3.sunset)&&/*#__PURE__*/_jsx(SunPath,{sunrise:data.sun.sunrise,sunset:data.sun.sunset}),data&&/*#__PURE__*/_jsx(DailyForecast,{data:data}),/*#__PURE__*/_jsx(GeminiSummary,{data:data,onGenerateSummary:generateWeatherSummary,summary:geminiSummary,isLoading:isGeneratingSummary}),/*#__PURE__*/_jsx(RainCard,{}),/*#__PURE__*/_jsx(AlertCard,{})]}),loading&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12,opacity:.8},children:\"Loading\\u2026\"})]})]});}","map":{"version":3,"names":["React","fetchWeatherByCoords","searchCities","fetchAirQualityByCoords","lottie","rainyMascotAnimation","sunnyMascotAnimation","coldMascotAnimation","mildMascotAnimation","jsx","_jsx","jsxs","_jsxs","Card","_ref","children","className","Header","_ref2","title","style","width","WeatherMascot","_ref3","weatherCondition","containerRef","useRef","animationRef","useLottie","setUseLottie","useState","useEffect","current","destroy","animationMap","rain","sunny","cold","cloudy","mild","animationData","loadAnimation","container","renderer","loop","autoplay","error","console","e","ref","getMascotEmoji","condition","fontSize","animation","SunPath","_ref4","sunrise","sunset","now","Date","sunriseTime","sunsetTime","currentTime","getTime","sunriseMs","sunsetMs","sunPosition","totalDaylight","elapsed","left","concat","toLocaleTimeString","hour","minute","WeatherDetailsGrid","_ref5","_data$current$humidit","_data$current","_data$current$windKmh","_data$current2","_data$sun$uvMax","_data$sun","_data$current$pressur","_data$current3","_data$current4","_data$current$dewPoin","_data$current5","data","metrics","label","value","humidity","Math","round","windKmh","sun","uvMax","pressureMb","visibilityKm","toFixed","dewPoint","map","metric","index","DailyForecast","_ref6","days","getWeatherIcon","temp","getCloudType","daily","slice","day","i","animationDelay","max","date","toLocaleDateString","undefined","weekday","min","GeminiSummary","_ref7","onGenerateSummary","summary","isLoading","handleGenerate","onClick","disabled","CurrentWeather","_ref8","_data$current$temp","_data$current6","_data$current$feelsLi","_data$current7","_data$daily$0$min","_data$daily","_data$daily$","_data$daily$0$max","_data$daily2","_data$daily2$","feels","feelsLike","getWeatherCondition","_data$current$humidit2","_data$current8","_data$hourly$0$pop","_data$hourly","_data$hourly$","pop","hourly","HourlyCard","_ref9","_data$hourly2","Array","from","length","h","_h$temp","_h$pop","baseDate","setHours","time","getHours","hour12","mer","baseTemp","tempVariation","sin","PI","random","RainCard","_","height","v","AlertCard","slides","sub","qty","idx","setIdx","id","setInterval","clearInterval","transform","onMouseEnter","s","App","_data$current1","_data$current10","_data$daily3","_data$hourly4","_data$sun2","_data$sun3","setData","setError","loading","setLoading","query","setQuery","suggestions","setSuggestions","setTitle","unit","setUnit","setAqi","theme","setTheme","geminiSummary","setGeminiSummary","isGeneratingSummary","setIsGeneratingSummary","generateWeatherSummary","weatherData","_weatherData$current$","_weatherData$current","_weatherData$current$2","_weatherData$current2","_weatherData$current$3","_weatherData$current3","_weatherData$current$4","_weatherData$current4","_weatherData$daily$0$","_weatherData$daily","_weatherData$daily$","_weatherData$daily$0$2","_weatherData$daily2","_weatherData$daily2$","mockSummary","onPosition","_ref0","coords","w","a","Promise","all","latitude","longitude","onError","navigator","geolocation","getCurrentPosition","active","t","setTimeout","then","res","clearTimeout","document","querySelector","contains","target","window","addEventListener","removeEventListener","onPick","city","name","admin1","country","filter","Boolean","join","_ref1","catch","finally","toUnit","celsius","root","onMove","innerWidth","innerHeight","x","clientX","y","clientY","layers","querySelectorAll","forEach","el","depth","documentElement","setProperty","handleOrientation","gamma","beta","_data$current$temp2","_data$current9","_data$current$humidit3","_data$current0","_data$hourly$0$pop2","_data$hourly3","_data$hourly3$","newTheme","onChange","placeholder","_objectSpread","d","marginTop","opacity"],"sources":["C:/Users/Dell/weather/src/App.js"],"sourcesContent":["import React from 'react';\nimport './App.css';\nimport { fetchWeatherByCoords, searchCities, fetchAirQualityByCoords } from './api';\nimport lottie from 'lottie-web';\nimport {\n  rainyMascotAnimation,\n  sunnyMascotAnimation,\n  coldMascotAnimation,\n  mildMascotAnimation\n} from './animations';\n\nfunction Card({ children }) {\n  return (\n    <div className=\"card\">\n      {children}\n    </div>\n  );\n}\n\nfunction Header({ title }) {\n  return (\n    <div className=\"header\">\n      <div className=\"location\">{title || 'Search a city'} ∘</div>\n      <div style={{ width: 28 }} />\n    </div>\n  );\n}\n\nfunction WeatherMascot({ weatherCondition }) {\n  const containerRef = React.useRef(null);\n  const animationRef = React.useRef(null);\n  const [useLottie, setUseLottie] = React.useState(false);\n\n  React.useEffect(() => {\n    if (!containerRef.current) return;\n\n    // Clean up previous animation\n    if (animationRef.current) {\n      animationRef.current.destroy();\n      animationRef.current = null;\n    }\n\n    // Map weather conditions to Lottie animations\n    const animationMap = {\n      rain: rainyMascotAnimation,\n      sunny: sunnyMascotAnimation,\n      cold: coldMascotAnimation,\n      cloudy: mildMascotAnimation,\n      mild: mildMascotAnimation\n    };\n\n    const animationData = animationMap[weatherCondition];\n\n    if (animationData) {\n      try {\n        animationRef.current = lottie.loadAnimation({\n          container: containerRef.current,\n          renderer: 'svg',\n          loop: true,\n          autoplay: true,\n          animationData: animationData\n        });\n        setUseLottie(true);\n      } catch (error) {\n        console.error('Failed to load Lottie animation:', error);\n        setUseLottie(false);\n      }\n    } else {\n      setUseLottie(false);\n    }\n\n    return () => {\n      if (animationRef.current) {\n        try {\n          animationRef.current.destroy();\n        } catch (e) {}\n        animationRef.current = null;\n      }\n    };\n  }, [weatherCondition]);\n\n  if (useLottie) {\n    return (\n      <div className=\"weather-mascot\">\n        <div className=\"mascot-container\">\n          <div className=\"lottie-container\" ref={containerRef} />\n        </div>\n      </div>\n    );\n  }\n\n  // Fallback to emoji if Lottie fails\n  const getMascotEmoji = (condition) => {\n    switch (condition) {\n      case 'rain': return '🌧️';\n      case 'sunny': return '☀️';\n      case 'cold': return '❄️';\n      case 'cloudy': return '☁️';\n      default: return '🌤️';\n    }\n  };\n\n  return (\n    <div className=\"weather-mascot\">\n      <div className=\"mascot-container\">\n        <div className=\"mascot-person\">\n          <span style={{ fontSize: '32px', animation: 'mascotFloat 3s ease-in-out infinite' }}>\n            {getMascotEmoji(weatherCondition)}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SunPath({ sunrise, sunset }) {\n  const now = new Date();\n  const sunriseTime = new Date(sunrise);\n  const sunsetTime = new Date(sunset);\n  const currentTime = now.getTime();\n  const sunriseMs = sunriseTime.getTime();\n  const sunsetMs = sunsetTime.getTime();\n  \n  // Calculate sun position (0-100%)\n  let sunPosition = 0;\n  if (currentTime >= sunriseMs && currentTime <= sunsetMs) {\n    const totalDaylight = sunsetMs - sunriseMs;\n    const elapsed = currentTime - sunriseMs;\n    sunPosition = (elapsed / totalDaylight) * 100;\n  } else if (currentTime > sunsetMs) {\n    sunPosition = 100;\n  }\n\n  return (\n    <div className=\"sun-path-container\">\n      <div className=\"sun-path\"></div>\n      <div \n        className=\"sun-icon\"\n        style={{ left: `${sunPosition}%` }}\n      >\n        ☀️\n      </div>\n      <div className=\"sun-times\">\n        <span>{sunriseTime.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' })}</span>\n        <span>{sunsetTime.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' })}</span>\n      </div>\n    </div>\n  );\n}\n\nfunction WeatherDetailsGrid({ data }) {\n  const metrics = [\n    { label: 'Humidity', value: `${data?.current?.humidity ?? '--'}%` },\n    { label: 'Wind', value: `${Math.round(data?.current?.windKmh ?? 0)} km/h` },\n    { label: 'UV Index', value: data?.sun?.uvMax ?? '--' },\n    { label: 'Pressure', value: `${Math.round(data?.current?.pressureMb ?? 0)} mb` },\n    { label: 'Visibility', value: data?.current?.visibilityKm ? `${data.current.visibilityKm.toFixed(1)} km` : '--' },\n    { label: 'Dew Point', value: `${Math.round(data?.current?.dewPoint ?? 0)}°` }\n  ];\n\n  return (\n    <div className=\"weather-grid\">\n      {metrics.map((metric, index) => (\n        <div key={index} className=\"weather-metric\">\n          <div className=\"metric-label\">{metric.label}</div>\n          <div className=\"metric-value\">{metric.value}</div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction DailyForecast({ data }) {\n  const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  \n  const getWeatherIcon = (temp) => {\n    if (temp >= 35) return '☀️';\n    if (temp >= 30) return '🌤️';\n    if (temp >= 25) return '⛅';\n    if (temp >= 20) return '☁️';\n    return '🌧️';\n  };\n\n  const getCloudType = (temp) => {\n    if (temp >= 35) return '☀️';\n    if (temp >= 30) return '🌤️';\n    if (temp >= 25) return '⛅';\n    if (temp >= 20) return '☁️';\n    return '🌧️';\n  };\n  \n  return (\n    <div className=\"daily-forecast\">\n      {(data?.daily || []).slice(0, 7).map((day, i) => (\n        <div key={i} className=\"daily-item\">\n          <div className=\"daily-clouds\">\n            <span className=\"cloud-1\" style={{ animationDelay: `${i * 0.5}s` }}>{getCloudType(day.max)}</span>\n            <span className=\"cloud-2\" style={{ animationDelay: `${i * 0.7}s` }}>☁️</span>\n            <span className=\"cloud-3\" style={{ animationDelay: `${i * 0.3}s` }}>☁️</span>\n          </div>\n          <div className=\"daily-content\">\n            <div className=\"daily-day\">\n              {day.date ? new Date(day.date).toLocaleDateString(undefined, { weekday: 'long' }) : days[i]}\n            </div>\n            <div className=\"daily-temps\">\n              <span className=\"daily-high\">{Math.round(day.max)}°</span>\n              <span className=\"daily-low\">{Math.round(day.min)}°</span>\n            </div>\n          </div>\n          <div className=\"daily-weather-icon\">\n            {getWeatherIcon(day.max)}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction GeminiSummary({ data, onGenerateSummary, summary, isLoading }) {\n  const handleGenerate = () => {\n    if (data) {\n      onGenerateSummary(data);\n    }\n  };\n\n  return (\n    <div>\n      <button \n        className=\"gemini-button\" \n        onClick={handleGenerate}\n        disabled={isLoading}\n      >\n        {isLoading ? 'Generating...' : 'Get Weather Summary'}\n      </button>\n      \n      {summary && (\n        <div className=\"gemini-summary\">\n          <h3>Weather Summary</h3>\n          <p>{summary}</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\nfunction CurrentWeather({ data }) {\n  const temp = Math.round(data?.current?.temp ?? 31);\n  const feels = Math.round(data?.current?.feelsLike ?? 37);\n  const min = Math.round(data?.daily?.[0]?.min ?? 25);\n  const max = Math.round(data?.daily?.[0]?.max ?? 32);\n  \n  // Determine weather condition\n  const getWeatherCondition = () => {\n    const humidity = data?.current?.humidity ?? 0;\n    const pop = data?.hourly?.[0]?.pop ?? 0;\n    \n    if (humidity > 70 && pop > 50) return 'rain';\n    if (temp <= 18) return 'cold';\n    if (temp >= 34) return 'sunny';\n    return 'cloudy';\n  };\n\n  return (\n    <div className=\"current\">\n      <WeatherMascot weatherCondition={getWeatherCondition()} />\n      <div className=\"temp\">{temp}°</div>\n      <div className=\"desc\">{' '}\n        {data ? 'Updated' : 'Fog'}\n      </div>\n      <div className=\"range\">{max}° / {min}° Feels like {feels}°</div>\n    </div>\n  );\n}\n\nfunction HourlyCard({ data }) {\n\n  return (\n    <Card>\n      <div className=\"card-title\">6:00 AM - 6:00 PM Forecast. Highs 31 to 33°C and lows 24 to 26°C.</div>\n      <div className=\"hourly\">\n        {(data?.hourly ?? Array.from({ length: 12 })).map((h, i) => {\n          // Start from 6:00 AM and go to 6:00 PM (12 hours)\n          const baseDate = new Date();\n          baseDate.setHours(6, 0, 0, 0); // Set to 6:00 AM\n          const date = h?.time ? new Date(h.time) : new Date(baseDate.getTime() + i * 60 * 60 * 1000);\n          const hour = date.getHours();\n          const hour12 = (hour % 12) || 12;\n          const mer = hour < 12 ? 'am' : 'pm';\n          // More realistic temperature curve for 6 AM to 6 PM\n          const baseTemp = 22; // Starting temperature at 6 AM\n          const tempVariation = Math.sin((i / 11) * Math.PI) * 8; // Peak around midday\n          const temp = Math.round(h?.temp ?? baseTemp + tempVariation + (i % 2));\n          const pop = h?.pop ?? Math.round(Math.random() * 100);\n          \n          // Get appropriate weather icon based on temperature\n          const getWeatherIcon = (temp) => {\n            if (temp >= 30) return '☀️';\n            if (temp >= 25) return '🌤️';\n            if (temp >= 20) return '⛅';\n            return '☁️';\n          };\n          \n          return (\n            <div className=\"hour\" key={i}>\n              <div className=\"hour-time\">{hour12}:00 {mer}</div>\n              <div className=\"hour-icon\">{getWeatherIcon(temp)}</div>\n              <div className=\"hour-temp\">{temp}°</div>\n              <div className=\"hour-pop\">{pop}%</div>\n            </div>\n          );\n        })}\n      </div>\n    </Card>\n  );\n}\n\nfunction RainCard() {\n  return (\n    <Card>\n      <div className=\"rain-chart\">\n        {Array.from({ length: 7 }).map((_, i) => (\n          <div className=\"bar\" key={i} style={{ height: 12 + (i%4)*14 }} />\n        ))}\n      </div>\n      <div className=\"rain-scale\">\n        {['0.0','0.32','1.43','1.51','0.01','0.0','0.0'].map((v, i) => (\n          <div className=\"tick\" key={i}>{v}</div>\n        ))}\n      </div>\n    </Card>\n  );\n}\n\nfunction AlertCard() {\n  const slides = [\n    { title: 'Grab an Umbrella!', sub: 'Thunderstorms possible after 14:00', qty: '3mm' },\n    { title: 'Heat Alert', sub: 'High UV today between 11:00–15:00', qty: 'UV 9' },\n    { title: 'Air Quality', sub: 'AQI is Moderate in your area', qty: 'AQI 35' },\n    { title: 'Windy Evening', sub: 'Gusts up to 30 km/h after 18:00', qty: '30 km/h' }\n  ];\n  const [idx, setIdx] = React.useState(0);\n  const ref = React.useRef(null);\n\n  React.useEffect(() => {\n    const id = setInterval(() => setIdx(i => (i + 1) % slides.length), 3500);\n    return () => clearInterval(id);\n  }, [slides.length]);\n\n  React.useEffect(() => {\n    if (ref.current) ref.current.style.transform = `translateX(-${idx * 100}%)`;\n  }, [idx]);\n\n  return (\n    <Card>\n      <div className=\"carousel\" onMouseEnter={() => clearInterval()}>\n        <div className=\"slides\" ref={ref}>\n          {slides.map((s, i) => (\n            <div className=\"slide\" key={i}>\n              <div className=\"alert\">\n                <div>\n                  <div className=\"alert-title\">{s.title}</div>\n                  <div className=\"alert-sub\">{s.sub}</div>\n                </div>\n                <div className=\"alert-amount\">{s.qty}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n      <div className=\"dots\">\n        {slides.map((_, i) => (\n          <span key={i} className={`dot ${i===idx?'active':''}`} onClick={() => setIdx(i)} />\n        ))}\n      </div>\n    </Card>\n  );\n}\n\nexport default function App() {\n  const [data, setData] = React.useState(null);\n  const [error, setError] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n  const [query, setQuery] = React.useState('');\n  const [suggestions, setSuggestions] = React.useState([]);\n  const [title, setTitle] = React.useState('Mevalurkuppam');\n  const [unit, setUnit] = React.useState('C'); // 'C' | 'F'\n  const [, setAqi] = React.useState(null);\n  const [theme, setTheme] = React.useState('theme-mild');\n  const [geminiSummary, setGeminiSummary] = React.useState('');\n  const [isGeneratingSummary, setIsGeneratingSummary] = React.useState(false);\n\n  // Gemini API integration\n  const generateWeatherSummary = async (weatherData) => {\n    setIsGeneratingSummary(true);\n    try {\n      // Generate a friendly, concise weather summary based on this data:\n      // Current temperature: ${Math.round(weatherData.current?.temp ?? 0)}°C\n      // Feels like: ${Math.round(weatherData.current?.feelsLike ?? 0)}°C\n      // Humidity: ${weatherData.current?.humidity ?? 0}%\n      // Wind: ${Math.round(weatherData.current?.windKmh ?? 0)} km/h\n      // Daily high: ${Math.round(weatherData.daily?.[0]?.max ?? 0)}°C\n      // Daily low: ${Math.round(weatherData.daily?.[0]?.min ?? 0)}°C\n      // UV Index: ${weatherData.sun?.uvMax ?? 'N/A'}\n      // \n      // Please provide a natural, conversational summary in 2-3 sentences.\n\n      // For demo purposes, we'll generate a mock summary\n      // In a real implementation, you would call the Gemini API here\n      const mockSummary = `Today's weather is ${Math.round(weatherData.current?.temp ?? 0)}°C with ${weatherData.current?.humidity ?? 0}% humidity. It feels like ${Math.round(weatherData.current?.feelsLike ?? 0)}°C with winds at ${Math.round(weatherData.current?.windKmh ?? 0)} km/h. Expect temperatures ranging from ${Math.round(weatherData.daily?.[0]?.min ?? 0)}°C to ${Math.round(weatherData.daily?.[0]?.max ?? 0)}°C throughout the day.`;\n      \n      setGeminiSummary(mockSummary);\n    } catch (error) {\n      console.error('Error generating summary:', error);\n      setGeminiSummary('Sorry, I couldn\\'t generate a weather summary at this time.');\n    } finally {\n      setIsGeneratingSummary(false);\n    }\n  };\n\n  React.useEffect(() => {\n    async function onPosition({ coords }) {\n      try {\n        const [w, a] = await Promise.all([\n          fetchWeatherByCoords(coords.latitude, coords.longitude),\n          fetchAirQualityByCoords(coords.latitude, coords.longitude)\n        ]);\n        setData(w); setAqi(a);\n      } catch (e) { setError(e); }\n      finally { setLoading(false); }\n    }\n    async function onError() {\n      try {\n        const [w, a] = await Promise.all([\n          fetchWeatherByCoords(13.0827, 80.2707),\n          fetchAirQualityByCoords(13.0827, 80.2707)\n        ]);\n        setData(w); setAqi(a);\n      } catch (e) { setError(e); }\n      finally { setLoading(false); }\n    }\n    if (navigator.geolocation) navigator.geolocation.getCurrentPosition(onPosition, onError);\n    else onError();\n  }, []);\n\n  React.useEffect(() => {\n    let active = true;\n    const t = setTimeout(() => {\n      searchCities(query).then(res => { if (active) setSuggestions(res); });\n    }, 250);\n    return () => { active = false; clearTimeout(t); };\n  }, [query]);\n\n  React.useEffect(() => {\n    function onClick(e) {\n      const container = document.querySelector('.search');\n      if (container && !container.contains(e.target)) setSuggestions([]);\n    }\n    window.addEventListener('click', onClick);\n    return () => window.removeEventListener('click', onClick);\n  }, []);\n\n  function onPick(city) {\n    setTitle([city.name, city.admin1, city.country].filter(Boolean).join(', '));\n    setSuggestions([]);\n    setQuery('');\n    setLoading(true);\n    Promise.all([\n      fetchWeatherByCoords(city.latitude, city.longitude),\n      fetchAirQualityByCoords(city.latitude, city.longitude)\n    ])\n      .then(([w, a]) => { setData(w); setAqi(a); })\n      .catch(setError)\n      .finally(() => setLoading(false));\n  }\n\n  function toUnit(celsius) {\n    if (celsius == null) return celsius;\n    return unit === 'C' ? Math.round(celsius) : Math.round((celsius * 9) / 5 + 32);\n  }\n\n  React.useEffect(() => {\n    const root = document.querySelector('.parallax');\n    if (!root) return;\n    function onMove(e) {\n      const { innerWidth: w, innerHeight: h } = window;\n      const x = (e.clientX / w - 0.5) * 2;\n      const y = (e.clientY / h - 0.5) * 2;\n      const layers = root.querySelectorAll('.layer');\n      layers.forEach((el, i) => {\n        const depth = i === 0 ? 10 : 20;\n        el.style.transform = `translateZ(${-150 - i*100}px) translate(${x*depth}px, ${y*depth}px) scale(${1.2 + i*0.2})`;\n      });\n      document.documentElement.style.setProperty('--tiltX', `${x*2}deg`);\n      document.documentElement.style.setProperty('--tiltY', `${-y*2}deg`);\n    }\n    window.addEventListener('mousemove', onMove);\n    return () => window.removeEventListener('mousemove', onMove);\n  }, []);\n\n  // Gyro support (mobile)\n  React.useEffect(() => {\n    function handleOrientation(e) {\n      const x = (e.gamma || 0) / 45; // left-right\n      const y = (e.beta || 0) / 45;  // front-back\n      document.documentElement.style.setProperty('--tiltX', `${x}deg`);\n      document.documentElement.style.setProperty('--tiltY', `${-y}deg`);\n    }\n    window.addEventListener('deviceorientation', handleOrientation);\n    return () => window.removeEventListener('deviceorientation', handleOrientation);\n  }, []);\n\n  // Theme from weather\n  React.useEffect(() => {\n    if (!data) return;\n    const t = data.current?.temp ?? 26;\n    const humidity = data.current?.humidity ?? 0;\n    const pop = data.hourly?.[0]?.pop ?? 0;\n    const newTheme = humidity > 70 && pop > 50 ? 'theme-rain' : t <= 18 ? 'theme-cold' : t >= 34 ? 'theme-hot' : 'theme-mild';\n    setTheme(newTheme);\n  }, [data]);\n\n  return (\n    <div className={`app ${theme}`}>\n      <div className=\"gradient\" />\n      <div className=\"parallax\" aria-hidden>\n        <div className=\"layer one\" />\n        <div className=\"layer two stars\" />\n      </div>\n      <div className=\"main-content\">\n        <Header title={title} />\n        <div className=\"controls\">\n          <button className={`toggle ${unit==='C'?'active':''}`} onClick={() => setUnit('C')}>°C</button>\n          <button className={`toggle ${unit==='F'?'active':''}`} onClick={() => setUnit('F')}>°F</button>\n        </div>\n        <div className=\"search\">\n          <input\n            value={query}\n            onChange={e => setQuery(e.target.value)}\n            placeholder=\"Search city or town\"\n          />\n          {suggestions.length > 0 && (\n            <div className=\"suggestions\">\n              {suggestions.map(s => (\n                <button key={s.id} onClick={() => onPick(s)}>\n                  {s.name}{s.admin1 ? `, ${s.admin1}` : ''}, {s.country}\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n        \n        {error && <div className=\"card\">Failed to load weather.</div>}\n        \n        <CurrentWeather data={data ? { ...data, current: { ...data.current, temp: toUnit(data.current?.temp), feelsLike: toUnit(data.current?.feelsLike) }, daily: data.daily?.map(d => ({...d, max: toUnit(d.max), min: toUnit(d.min)})) } : null} />\n        \n        <div className=\"stack\">\n          <HourlyCard data={data ? { ...data, hourly: data.hourly?.map(h => ({...h, temp: toUnit(h.temp)})) } : null} />\n          \n          {data && <WeatherDetailsGrid data={data} />}\n          \n          {data?.sun?.sunrise && data?.sun?.sunset && (\n            <SunPath sunrise={data.sun.sunrise} sunset={data.sun.sunset} />\n          )}\n          \n          {data && <DailyForecast data={data} />}\n          \n          <GeminiSummary \n            data={data} \n            onGenerateSummary={generateWeatherSummary}\n            summary={geminiSummary}\n            isLoading={isGeneratingSummary}\n          />\n          \n          <RainCard />\n          <AlertCard />\n        </div>\n        \n        {loading && <div style={{marginTop:12, opacity:.8}}>Loading…</div>}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"0GAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,WAAW,CAClB,OAASC,oBAAoB,CAAEC,YAAY,CAAEC,uBAAuB,KAAQ,OAAO,CACnF,MAAO,CAAAC,MAAM,KAAM,YAAY,CAC/B,OACEC,oBAAoB,CACpBC,oBAAoB,CACpBC,mBAAmB,CACnBC,mBAAmB,KACd,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtB,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACxB,mBACEJ,IAAA,QAAKM,SAAS,CAAC,MAAM,CAAAD,QAAA,CAClBA,QAAQ,CACN,CAAC,CAEV,CAEA,QAAS,CAAAE,MAAMA,CAAAC,KAAA,CAAY,IAAX,CAAEC,KAAM,CAAC,CAAAD,KAAA,CACvB,mBACEN,KAAA,QAAKI,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACrBH,KAAA,QAAKI,SAAS,CAAC,UAAU,CAAAD,QAAA,EAAEI,KAAK,EAAI,eAAe,CAAC,SAAE,EAAK,CAAC,cAC5DT,IAAA,QAAKU,KAAK,CAAE,CAAEC,KAAK,CAAE,EAAG,CAAE,CAAE,CAAC,EAC1B,CAAC,CAEV,CAEA,QAAS,CAAAC,aAAaA,CAAAC,KAAA,CAAuB,IAAtB,CAAEC,gBAAiB,CAAC,CAAAD,KAAA,CACzC,KAAM,CAAAE,YAAY,CAAGzB,KAAK,CAAC0B,MAAM,CAAC,IAAI,CAAC,CACvC,KAAM,CAAAC,YAAY,CAAG3B,KAAK,CAAC0B,MAAM,CAAC,IAAI,CAAC,CACvC,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAG7B,KAAK,CAAC8B,QAAQ,CAAC,KAAK,CAAC,CAEvD9B,KAAK,CAAC+B,SAAS,CAAC,IAAM,CACpB,GAAI,CAACN,YAAY,CAACO,OAAO,CAAE,OAE3B;AACA,GAAIL,YAAY,CAACK,OAAO,CAAE,CACxBL,YAAY,CAACK,OAAO,CAACC,OAAO,CAAC,CAAC,CAC9BN,YAAY,CAACK,OAAO,CAAG,IAAI,CAC7B,CAEA;AACA,KAAM,CAAAE,YAAY,CAAG,CACnBC,IAAI,CAAE9B,oBAAoB,CAC1B+B,KAAK,CAAE9B,oBAAoB,CAC3B+B,IAAI,CAAE9B,mBAAmB,CACzB+B,MAAM,CAAE9B,mBAAmB,CAC3B+B,IAAI,CAAE/B,mBACR,CAAC,CAED,KAAM,CAAAgC,aAAa,CAAGN,YAAY,CAACV,gBAAgB,CAAC,CAEpD,GAAIgB,aAAa,CAAE,CACjB,GAAI,CACFb,YAAY,CAACK,OAAO,CAAG5B,MAAM,CAACqC,aAAa,CAAC,CAC1CC,SAAS,CAAEjB,YAAY,CAACO,OAAO,CAC/BW,QAAQ,CAAE,KAAK,CACfC,IAAI,CAAE,IAAI,CACVC,QAAQ,CAAE,IAAI,CACdL,aAAa,CAAEA,aACjB,CAAC,CAAC,CACFX,YAAY,CAAC,IAAI,CAAC,CACpB,CAAE,MAAOiB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CACxDjB,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,IAAM,CACLA,YAAY,CAAC,KAAK,CAAC,CACrB,CAEA,MAAO,IAAM,CACX,GAAIF,YAAY,CAACK,OAAO,CAAE,CACxB,GAAI,CACFL,YAAY,CAACK,OAAO,CAACC,OAAO,CAAC,CAAC,CAChC,CAAE,MAAOe,CAAC,CAAE,CAAC,CACbrB,YAAY,CAACK,OAAO,CAAG,IAAI,CAC7B,CACF,CAAC,CACH,CAAC,CAAE,CAACR,gBAAgB,CAAC,CAAC,CAEtB,GAAII,SAAS,CAAE,CACb,mBACElB,IAAA,QAAKM,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC7BL,IAAA,QAAKM,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cAC/BL,IAAA,QAAKM,SAAS,CAAC,kBAAkB,CAACiC,GAAG,CAAExB,YAAa,CAAE,CAAC,CACpD,CAAC,CACH,CAAC,CAEV,CAEA;AACA,KAAM,CAAAyB,cAAc,CAAIC,SAAS,EAAK,CACpC,OAAQA,SAAS,EACf,IAAK,MAAM,CAAE,MAAO,KAAK,CACzB,IAAK,OAAO,CAAE,MAAO,IAAI,CACzB,IAAK,MAAM,CAAE,MAAO,IAAI,CACxB,IAAK,QAAQ,CAAE,MAAO,IAAI,CAC1B,QAAS,MAAO,KAAK,CACvB,CACF,CAAC,CAED,mBACEzC,IAAA,QAAKM,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC7BL,IAAA,QAAKM,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cAC/BL,IAAA,QAAKM,SAAS,CAAC,eAAe,CAAAD,QAAA,cAC5BL,IAAA,SAAMU,KAAK,CAAE,CAAEgC,QAAQ,CAAE,MAAM,CAAEC,SAAS,CAAE,qCAAsC,CAAE,CAAAtC,QAAA,CACjFmC,cAAc,CAAC1B,gBAAgB,CAAC,CAC7B,CAAC,CACJ,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAEA,QAAS,CAAA8B,OAAOA,CAAAC,KAAA,CAAsB,IAArB,CAAEC,OAAO,CAAEC,MAAO,CAAC,CAAAF,KAAA,CAClC,KAAM,CAAAG,GAAG,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAC,WAAW,CAAG,GAAI,CAAAD,IAAI,CAACH,OAAO,CAAC,CACrC,KAAM,CAAAK,UAAU,CAAG,GAAI,CAAAF,IAAI,CAACF,MAAM,CAAC,CACnC,KAAM,CAAAK,WAAW,CAAGJ,GAAG,CAACK,OAAO,CAAC,CAAC,CACjC,KAAM,CAAAC,SAAS,CAAGJ,WAAW,CAACG,OAAO,CAAC,CAAC,CACvC,KAAM,CAAAE,QAAQ,CAAGJ,UAAU,CAACE,OAAO,CAAC,CAAC,CAErC;AACA,GAAI,CAAAG,WAAW,CAAG,CAAC,CACnB,GAAIJ,WAAW,EAAIE,SAAS,EAAIF,WAAW,EAAIG,QAAQ,CAAE,CACvD,KAAM,CAAAE,aAAa,CAAGF,QAAQ,CAAGD,SAAS,CAC1C,KAAM,CAAAI,OAAO,CAAGN,WAAW,CAAGE,SAAS,CACvCE,WAAW,CAAIE,OAAO,CAAGD,aAAa,CAAI,GAAG,CAC/C,CAAC,IAAM,IAAIL,WAAW,CAAGG,QAAQ,CAAE,CACjCC,WAAW,CAAG,GAAG,CACnB,CAEA,mBACEtD,KAAA,QAAKI,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACjCL,IAAA,QAAKM,SAAS,CAAC,UAAU,CAAM,CAAC,cAChCN,IAAA,QACEM,SAAS,CAAC,UAAU,CACpBI,KAAK,CAAE,CAAEiD,IAAI,IAAAC,MAAA,CAAKJ,WAAW,KAAI,CAAE,CAAAnD,QAAA,CACpC,cAED,CAAK,CAAC,cACNH,KAAA,QAAKI,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBL,IAAA,SAAAK,QAAA,CAAO6C,WAAW,CAACW,kBAAkB,CAAC,EAAE,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,CAAO,CAAC,cACzF/D,IAAA,SAAAK,QAAA,CAAO8C,UAAU,CAACU,kBAAkB,CAAC,EAAE,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,CAAO,CAAC,EACrF,CAAC,EACH,CAAC,CAEV,CAEA,QAAS,CAAAC,kBAAkBA,CAAAC,KAAA,CAAW,KAAAC,qBAAA,CAAAC,aAAA,CAAAC,qBAAA,CAAAC,cAAA,CAAAC,eAAA,CAAAC,SAAA,CAAAC,qBAAA,CAAAC,cAAA,CAAAC,cAAA,CAAAC,qBAAA,CAAAC,cAAA,IAAV,CAAEC,IAAK,CAAC,CAAAZ,KAAA,CAClC,KAAM,CAAAa,OAAO,CAAG,CACd,CAAEC,KAAK,CAAE,UAAU,CAAEC,KAAK,IAAApB,MAAA,EAAAM,qBAAA,CAAKW,IAAI,SAAJA,IAAI,kBAAAV,aAAA,CAAJU,IAAI,CAAEvD,OAAO,UAAA6C,aAAA,iBAAbA,aAAA,CAAec,QAAQ,UAAAf,qBAAA,UAAAA,qBAAA,CAAI,IAAI,KAAI,CAAC,CACnE,CAAEa,KAAK,CAAE,MAAM,CAAEC,KAAK,IAAApB,MAAA,CAAKsB,IAAI,CAACC,KAAK,EAAAf,qBAAA,CAACS,IAAI,SAAJA,IAAI,kBAAAR,cAAA,CAAJQ,IAAI,CAAEvD,OAAO,UAAA+C,cAAA,iBAAbA,cAAA,CAAee,OAAO,UAAAhB,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAAC,SAAQ,CAAC,CAC3E,CAAEW,KAAK,CAAE,UAAU,CAAEC,KAAK,EAAAV,eAAA,CAAEO,IAAI,SAAJA,IAAI,kBAAAN,SAAA,CAAJM,IAAI,CAAEQ,GAAG,UAAAd,SAAA,iBAATA,SAAA,CAAWe,KAAK,UAAAhB,eAAA,UAAAA,eAAA,CAAI,IAAK,CAAC,CACtD,CAAES,KAAK,CAAE,UAAU,CAAEC,KAAK,IAAApB,MAAA,CAAKsB,IAAI,CAACC,KAAK,EAAAX,qBAAA,CAACK,IAAI,SAAJA,IAAI,kBAAAJ,cAAA,CAAJI,IAAI,CAAEvD,OAAO,UAAAmD,cAAA,iBAAbA,cAAA,CAAec,UAAU,UAAAf,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAAC,OAAM,CAAC,CAChF,CAAEO,KAAK,CAAE,YAAY,CAAEC,KAAK,CAAEH,IAAI,SAAJA,IAAI,YAAAH,cAAA,CAAJG,IAAI,CAAEvD,OAAO,UAAAoD,cAAA,WAAbA,cAAA,CAAec,YAAY,IAAA5B,MAAA,CAAMiB,IAAI,CAACvD,OAAO,CAACkE,YAAY,CAACC,OAAO,CAAC,CAAC,CAAC,QAAQ,IAAK,CAAC,CACjH,CAAEV,KAAK,CAAE,WAAW,CAAEC,KAAK,IAAApB,MAAA,CAAKsB,IAAI,CAACC,KAAK,EAAAR,qBAAA,CAACE,IAAI,SAAJA,IAAI,kBAAAD,cAAA,CAAJC,IAAI,CAAEvD,OAAO,UAAAsD,cAAA,iBAAbA,cAAA,CAAec,QAAQ,UAAAf,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAAC,QAAI,CAAC,CAC9E,CAED,mBACE3E,IAAA,QAAKM,SAAS,CAAC,cAAc,CAAAD,QAAA,CAC1ByE,OAAO,CAACa,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,gBACzB3F,KAAA,QAAiBI,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eACzCL,IAAA,QAAKM,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAEuF,MAAM,CAACb,KAAK,CAAM,CAAC,cAClD/E,IAAA,QAAKM,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAEuF,MAAM,CAACZ,KAAK,CAAM,CAAC,GAF1Ca,KAGL,CACN,CAAC,CACC,CAAC,CAEV,CAEA,QAAS,CAAAC,aAAaA,CAAAC,KAAA,CAAW,IAAV,CAAElB,IAAK,CAAC,CAAAkB,KAAA,CAC7B,KAAM,CAAAC,IAAI,CAAG,CAAC,QAAQ,CAAE,QAAQ,CAAE,SAAS,CAAE,WAAW,CAAE,UAAU,CAAE,QAAQ,CAAE,UAAU,CAAC,CAE3F,KAAM,CAAAC,cAAc,CAAIC,IAAI,EAAK,CAC/B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,IAAI,CAC3B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,KAAK,CAC5B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,GAAG,CAC1B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,IAAI,CAC3B,MAAO,KAAK,CACd,CAAC,CAED,KAAM,CAAAC,YAAY,CAAID,IAAI,EAAK,CAC7B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,IAAI,CAC3B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,KAAK,CAC5B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,GAAG,CAC1B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,IAAI,CAC3B,MAAO,KAAK,CACd,CAAC,CAED,mBACElG,IAAA,QAAKM,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAC5B,CAAC,CAAAwE,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuB,KAAK,GAAI,EAAE,EAAEC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACV,GAAG,CAAC,CAACW,GAAG,CAAEC,CAAC,gBAC1CrG,KAAA,QAAaI,SAAS,CAAC,YAAY,CAAAD,QAAA,eACjCH,KAAA,QAAKI,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3BL,IAAA,SAAMM,SAAS,CAAC,SAAS,CAACI,KAAK,CAAE,CAAE8F,cAAc,IAAA5C,MAAA,CAAK2C,CAAC,CAAG,GAAG,KAAI,CAAE,CAAAlG,QAAA,CAAE8F,YAAY,CAACG,GAAG,CAACG,GAAG,CAAC,CAAO,CAAC,cAClGzG,IAAA,SAAMM,SAAS,CAAC,SAAS,CAACI,KAAK,CAAE,CAAE8F,cAAc,IAAA5C,MAAA,CAAK2C,CAAC,CAAG,GAAG,KAAI,CAAE,CAAAlG,QAAA,CAAC,cAAE,CAAM,CAAC,cAC7EL,IAAA,SAAMM,SAAS,CAAC,SAAS,CAACI,KAAK,CAAE,CAAE8F,cAAc,IAAA5C,MAAA,CAAK2C,CAAC,CAAG,GAAG,KAAI,CAAE,CAAAlG,QAAA,CAAC,cAAE,CAAM,CAAC,EAC1E,CAAC,cACNH,KAAA,QAAKI,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BL,IAAA,QAAKM,SAAS,CAAC,WAAW,CAAAD,QAAA,CACvBiG,GAAG,CAACI,IAAI,CAAG,GAAI,CAAAzD,IAAI,CAACqD,GAAG,CAACI,IAAI,CAAC,CAACC,kBAAkB,CAACC,SAAS,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAC,CAAC,CAAGb,IAAI,CAACO,CAAC,CAAC,CACxF,CAAC,cACNrG,KAAA,QAAKI,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC1BH,KAAA,SAAMI,SAAS,CAAC,YAAY,CAAAD,QAAA,EAAE6E,IAAI,CAACC,KAAK,CAACmB,GAAG,CAACG,GAAG,CAAC,CAAC,MAAC,EAAM,CAAC,cAC1DvG,KAAA,SAAMI,SAAS,CAAC,WAAW,CAAAD,QAAA,EAAE6E,IAAI,CAACC,KAAK,CAACmB,GAAG,CAACQ,GAAG,CAAC,CAAC,MAAC,EAAM,CAAC,EACtD,CAAC,EACH,CAAC,cACN9G,IAAA,QAAKM,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAChC4F,cAAc,CAACK,GAAG,CAACG,GAAG,CAAC,CACrB,CAAC,GAjBEF,CAkBL,CACN,CAAC,CACC,CAAC,CAEV,CAEA,QAAS,CAAAQ,aAAaA,CAAAC,KAAA,CAAkD,IAAjD,CAAEnC,IAAI,CAAEoC,iBAAiB,CAAEC,OAAO,CAAEC,SAAU,CAAC,CAAAH,KAAA,CACpE,KAAM,CAAAI,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIvC,IAAI,CAAE,CACRoC,iBAAiB,CAACpC,IAAI,CAAC,CACzB,CACF,CAAC,CAED,mBACE3E,KAAA,QAAAG,QAAA,eACEL,IAAA,WACEM,SAAS,CAAC,eAAe,CACzB+G,OAAO,CAAED,cAAe,CACxBE,QAAQ,CAAEH,SAAU,CAAA9G,QAAA,CAEnB8G,SAAS,CAAG,eAAe,CAAG,qBAAqB,CAC9C,CAAC,CAERD,OAAO,eACNhH,KAAA,QAAKI,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BL,IAAA,OAAAK,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBL,IAAA,MAAAK,QAAA,CAAI6G,OAAO,CAAI,CAAC,EACb,CACN,EACE,CAAC,CAEV,CAGA,QAAS,CAAAK,cAAcA,CAAAC,KAAA,CAAW,KAAAC,kBAAA,CAAAC,cAAA,CAAAC,qBAAA,CAAAC,cAAA,CAAAC,iBAAA,CAAAC,WAAA,CAAAC,YAAA,CAAAC,iBAAA,CAAAC,YAAA,CAAAC,aAAA,IAAV,CAAErD,IAAK,CAAC,CAAA2C,KAAA,CAC9B,KAAM,CAAAtB,IAAI,CAAGhB,IAAI,CAACC,KAAK,EAAAsC,kBAAA,CAAC5C,IAAI,SAAJA,IAAI,kBAAA6C,cAAA,CAAJ7C,IAAI,CAAEvD,OAAO,UAAAoG,cAAA,iBAAbA,cAAA,CAAexB,IAAI,UAAAuB,kBAAA,UAAAA,kBAAA,CAAI,EAAE,CAAC,CAClD,KAAM,CAAAU,KAAK,CAAGjD,IAAI,CAACC,KAAK,EAAAwC,qBAAA,CAAC9C,IAAI,SAAJA,IAAI,kBAAA+C,cAAA,CAAJ/C,IAAI,CAAEvD,OAAO,UAAAsG,cAAA,iBAAbA,cAAA,CAAeQ,SAAS,UAAAT,qBAAA,UAAAA,qBAAA,CAAI,EAAE,CAAC,CACxD,KAAM,CAAAb,GAAG,CAAG5B,IAAI,CAACC,KAAK,EAAA0C,iBAAA,CAAChD,IAAI,SAAJA,IAAI,kBAAAiD,WAAA,CAAJjD,IAAI,CAAEuB,KAAK,UAAA0B,WAAA,kBAAAC,YAAA,CAAXD,WAAA,CAAc,CAAC,CAAC,UAAAC,YAAA,iBAAhBA,YAAA,CAAkBjB,GAAG,UAAAe,iBAAA,UAAAA,iBAAA,CAAI,EAAE,CAAC,CACnD,KAAM,CAAApB,GAAG,CAAGvB,IAAI,CAACC,KAAK,EAAA6C,iBAAA,CAACnD,IAAI,SAAJA,IAAI,kBAAAoD,YAAA,CAAJpD,IAAI,CAAEuB,KAAK,UAAA6B,YAAA,kBAAAC,aAAA,CAAXD,YAAA,CAAc,CAAC,CAAC,UAAAC,aAAA,iBAAhBA,aAAA,CAAkBzB,GAAG,UAAAuB,iBAAA,UAAAA,iBAAA,CAAI,EAAE,CAAC,CAEnD;AACA,KAAM,CAAAK,mBAAmB,CAAGA,CAAA,GAAM,KAAAC,sBAAA,CAAAC,cAAA,CAAAC,kBAAA,CAAAC,YAAA,CAAAC,aAAA,CAChC,KAAM,CAAAzD,QAAQ,EAAAqD,sBAAA,CAAGzD,IAAI,SAAJA,IAAI,kBAAA0D,cAAA,CAAJ1D,IAAI,CAAEvD,OAAO,UAAAiH,cAAA,iBAAbA,cAAA,CAAetD,QAAQ,UAAAqD,sBAAA,UAAAA,sBAAA,CAAI,CAAC,CAC7C,KAAM,CAAAK,GAAG,EAAAH,kBAAA,CAAG3D,IAAI,SAAJA,IAAI,kBAAA4D,YAAA,CAAJ5D,IAAI,CAAE+D,MAAM,UAAAH,YAAA,kBAAAC,aAAA,CAAZD,YAAA,CAAe,CAAC,CAAC,UAAAC,aAAA,iBAAjBA,aAAA,CAAmBC,GAAG,UAAAH,kBAAA,UAAAA,kBAAA,CAAI,CAAC,CAEvC,GAAIvD,QAAQ,CAAG,EAAE,EAAI0D,GAAG,CAAG,EAAE,CAAE,MAAO,MAAM,CAC5C,GAAIzC,IAAI,EAAI,EAAE,CAAE,MAAO,MAAM,CAC7B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,OAAO,CAC9B,MAAO,QAAQ,CACjB,CAAC,CAED,mBACEhG,KAAA,QAAKI,SAAS,CAAC,SAAS,CAAAD,QAAA,eACtBL,IAAA,CAACY,aAAa,EAACE,gBAAgB,CAAEuH,mBAAmB,CAAC,CAAE,CAAE,CAAC,cAC1DnI,KAAA,QAAKI,SAAS,CAAC,MAAM,CAAAD,QAAA,EAAE6F,IAAI,CAAC,MAAC,EAAK,CAAC,cACnChG,KAAA,QAAKI,SAAS,CAAC,MAAM,CAAAD,QAAA,EAAE,GAAG,CACvBwE,IAAI,CAAG,SAAS,CAAG,KAAK,EACtB,CAAC,cACN3E,KAAA,QAAKI,SAAS,CAAC,OAAO,CAAAD,QAAA,EAAEoG,GAAG,CAAC,SAAI,CAACK,GAAG,CAAC,kBAAa,CAACqB,KAAK,CAAC,MAAC,EAAK,CAAC,EAC7D,CAAC,CAEV,CAEA,QAAS,CAAAU,UAAUA,CAAAC,KAAA,CAAW,KAAAC,aAAA,IAAV,CAAElE,IAAK,CAAC,CAAAiE,KAAA,CAE1B,mBACE5I,KAAA,CAACC,IAAI,EAAAE,QAAA,eACHL,IAAA,QAAKM,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,yEAAiE,CAAK,CAAC,cACnGL,IAAA,QAAKM,SAAS,CAAC,QAAQ,CAAAD,QAAA,CACpB,EAAA0I,aAAA,CAAClE,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE+D,MAAM,UAAAG,aAAA,UAAAA,aAAA,CAAIC,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAE,EAAG,CAAC,CAAC,EAAEvD,GAAG,CAAC,CAACwD,CAAC,CAAE5C,CAAC,GAAK,KAAA6C,OAAA,CAAAC,MAAA,CAC1D;AACA,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAArG,IAAI,CAAC,CAAC,CAC3BqG,QAAQ,CAACC,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAE;AAC/B,KAAM,CAAA7C,IAAI,CAAGyC,CAAC,SAADA,CAAC,WAADA,CAAC,CAAEK,IAAI,CAAG,GAAI,CAAAvG,IAAI,CAACkG,CAAC,CAACK,IAAI,CAAC,CAAG,GAAI,CAAAvG,IAAI,CAACqG,QAAQ,CAACjG,OAAO,CAAC,CAAC,CAAGkD,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CAC3F,KAAM,CAAAzC,IAAI,CAAG4C,IAAI,CAAC+C,QAAQ,CAAC,CAAC,CAC5B,KAAM,CAAAC,MAAM,CAAI5F,IAAI,CAAG,EAAE,EAAK,EAAE,CAChC,KAAM,CAAA6F,GAAG,CAAG7F,IAAI,CAAG,EAAE,CAAG,IAAI,CAAG,IAAI,CACnC;AACA,KAAM,CAAA8F,QAAQ,CAAG,EAAE,CAAE;AACrB,KAAM,CAAAC,aAAa,CAAG3E,IAAI,CAAC4E,GAAG,CAAEvD,CAAC,CAAG,EAAE,CAAIrB,IAAI,CAAC6E,EAAE,CAAC,CAAG,CAAC,CAAE;AACxD,KAAM,CAAA7D,IAAI,CAAGhB,IAAI,CAACC,KAAK,EAAAiE,OAAA,CAACD,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEjD,IAAI,UAAAkD,OAAA,UAAAA,OAAA,CAAIQ,QAAQ,CAAGC,aAAa,CAAItD,CAAC,CAAG,CAAE,CAAC,CACtE,KAAM,CAAAoC,GAAG,EAAAU,MAAA,CAAGF,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAER,GAAG,UAAAU,MAAA,UAAAA,MAAA,CAAInE,IAAI,CAACC,KAAK,CAACD,IAAI,CAAC8E,MAAM,CAAC,CAAC,CAAG,GAAG,CAAC,CAErD;AACA,KAAM,CAAA/D,cAAc,CAAIC,IAAI,EAAK,CAC/B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,IAAI,CAC3B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,KAAK,CAC5B,GAAIA,IAAI,EAAI,EAAE,CAAE,MAAO,GAAG,CAC1B,MAAO,IAAI,CACb,CAAC,CAED,mBACEhG,KAAA,QAAKI,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBH,KAAA,QAAKI,SAAS,CAAC,WAAW,CAAAD,QAAA,EAAEqJ,MAAM,CAAC,MAAI,CAACC,GAAG,EAAM,CAAC,cAClD3J,IAAA,QAAKM,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAE4F,cAAc,CAACC,IAAI,CAAC,CAAM,CAAC,cACvDhG,KAAA,QAAKI,SAAS,CAAC,WAAW,CAAAD,QAAA,EAAE6F,IAAI,CAAC,MAAC,EAAK,CAAC,cACxChG,KAAA,QAAKI,SAAS,CAAC,UAAU,CAAAD,QAAA,EAAEsI,GAAG,CAAC,GAAC,EAAK,CAAC,GAJbpC,CAKtB,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACF,CAAC,CAEX,CAEA,QAAS,CAAA0D,QAAQA,CAAA,CAAG,CAClB,mBACE/J,KAAA,CAACC,IAAI,EAAAE,QAAA,eACHL,IAAA,QAAKM,SAAS,CAAC,YAAY,CAAAD,QAAA,CACxB2I,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAE,CAAE,CAAC,CAAC,CAACvD,GAAG,CAAC,CAACuE,CAAC,CAAE3D,CAAC,gBAClCvG,IAAA,QAAKM,SAAS,CAAC,KAAK,CAASI,KAAK,CAAE,CAAEyJ,MAAM,CAAE,EAAE,CAAI5D,CAAC,CAAC,CAAC,CAAE,EAAG,CAAE,EAApCA,CAAsC,CACjE,CAAC,CACC,CAAC,cACNvG,IAAA,QAAKM,SAAS,CAAC,YAAY,CAAAD,QAAA,CACxB,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAACsF,GAAG,CAAC,CAACyE,CAAC,CAAE7D,CAAC,gBACxDvG,IAAA,QAAKM,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAU+J,CAAC,EAAL7D,CAAW,CACvC,CAAC,CACC,CAAC,EACF,CAAC,CAEX,CAEA,QAAS,CAAA8D,SAASA,CAAA,CAAG,CACnB,KAAM,CAAAC,MAAM,CAAG,CACb,CAAE7J,KAAK,CAAE,mBAAmB,CAAE8J,GAAG,CAAE,oCAAoC,CAAEC,GAAG,CAAE,KAAM,CAAC,CACrF,CAAE/J,KAAK,CAAE,YAAY,CAAE8J,GAAG,CAAE,mCAAmC,CAAEC,GAAG,CAAE,MAAO,CAAC,CAC9E,CAAE/J,KAAK,CAAE,aAAa,CAAE8J,GAAG,CAAE,8BAA8B,CAAEC,GAAG,CAAE,QAAS,CAAC,CAC5E,CAAE/J,KAAK,CAAE,eAAe,CAAE8J,GAAG,CAAE,iCAAiC,CAAEC,GAAG,CAAE,SAAU,CAAC,CACnF,CACD,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAGpL,KAAK,CAAC8B,QAAQ,CAAC,CAAC,CAAC,CACvC,KAAM,CAAAmB,GAAG,CAAGjD,KAAK,CAAC0B,MAAM,CAAC,IAAI,CAAC,CAE9B1B,KAAK,CAAC+B,SAAS,CAAC,IAAM,CACpB,KAAM,CAAAsJ,EAAE,CAAGC,WAAW,CAAC,IAAMF,MAAM,CAACnE,CAAC,EAAI,CAACA,CAAC,CAAG,CAAC,EAAI+D,MAAM,CAACpB,MAAM,CAAC,CAAE,IAAI,CAAC,CACxE,MAAO,IAAM2B,aAAa,CAACF,EAAE,CAAC,CAChC,CAAC,CAAE,CAACL,MAAM,CAACpB,MAAM,CAAC,CAAC,CAEnB5J,KAAK,CAAC+B,SAAS,CAAC,IAAM,CACpB,GAAIkB,GAAG,CAACjB,OAAO,CAAEiB,GAAG,CAACjB,OAAO,CAACZ,KAAK,CAACoK,SAAS,gBAAAlH,MAAA,CAAkB6G,GAAG,CAAG,GAAG,MAAI,CAC7E,CAAC,CAAE,CAACA,GAAG,CAAC,CAAC,CAET,mBACEvK,KAAA,CAACC,IAAI,EAAAE,QAAA,eACHL,IAAA,QAAKM,SAAS,CAAC,UAAU,CAACyK,YAAY,CAAEA,CAAA,GAAMF,aAAa,CAAC,CAAE,CAAAxK,QAAA,cAC5DL,IAAA,QAAKM,SAAS,CAAC,QAAQ,CAACiC,GAAG,CAAEA,GAAI,CAAAlC,QAAA,CAC9BiK,MAAM,CAAC3E,GAAG,CAAC,CAACqF,CAAC,CAAEzE,CAAC,gBACfvG,IAAA,QAAKM,SAAS,CAAC,OAAO,CAAAD,QAAA,cACpBH,KAAA,QAAKI,SAAS,CAAC,OAAO,CAAAD,QAAA,eACpBH,KAAA,QAAAG,QAAA,eACEL,IAAA,QAAKM,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAE2K,CAAC,CAACvK,KAAK,CAAM,CAAC,cAC5CT,IAAA,QAAKM,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAE2K,CAAC,CAACT,GAAG,CAAM,CAAC,EACrC,CAAC,cACNvK,IAAA,QAAKM,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAE2K,CAAC,CAACR,GAAG,CAAM,CAAC,EACxC,CAAC,EAPoBjE,CAQvB,CACN,CAAC,CACC,CAAC,CACH,CAAC,cACNvG,IAAA,QAAKM,SAAS,CAAC,MAAM,CAAAD,QAAA,CAClBiK,MAAM,CAAC3E,GAAG,CAAC,CAACuE,CAAC,CAAE3D,CAAC,gBACfvG,IAAA,SAAcM,SAAS,QAAAsD,MAAA,CAAS2C,CAAC,GAAGkE,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAG,CAACpD,OAAO,CAAEA,CAAA,GAAMqD,MAAM,CAACnE,CAAC,CAAE,EAArEA,CAAuE,CACnF,CAAC,CACC,CAAC,EACF,CAAC,CAEX,CAEA,cAAe,SAAS,CAAA0E,GAAGA,CAAA,CAAG,KAAAC,cAAA,CAAAC,eAAA,CAAAC,YAAA,CAAAC,aAAA,CAAAC,UAAA,CAAAC,UAAA,CAC5B,KAAM,CAAC1G,IAAI,CAAE2G,OAAO,CAAC,CAAGlM,KAAK,CAAC8B,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACgB,KAAK,CAAEqJ,QAAQ,CAAC,CAAGnM,KAAK,CAAC8B,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACsK,OAAO,CAAEC,UAAU,CAAC,CAAGrM,KAAK,CAAC8B,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACwK,KAAK,CAAEC,QAAQ,CAAC,CAAGvM,KAAK,CAAC8B,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC0K,WAAW,CAAEC,cAAc,CAAC,CAAGzM,KAAK,CAAC8B,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACX,KAAK,CAAEuL,QAAQ,CAAC,CAAG1M,KAAK,CAAC8B,QAAQ,CAAC,eAAe,CAAC,CACzD,KAAM,CAAC6K,IAAI,CAAEC,OAAO,CAAC,CAAG5M,KAAK,CAAC8B,QAAQ,CAAC,GAAG,CAAC,CAAE;AAC7C,KAAM,EAAG+K,MAAM,CAAC,CAAG7M,KAAK,CAAC8B,QAAQ,CAAC,IAAI,CAAC,CACvC,KAAM,CAACgL,KAAK,CAAEC,QAAQ,CAAC,CAAG/M,KAAK,CAAC8B,QAAQ,CAAC,YAAY,CAAC,CACtD,KAAM,CAACkL,aAAa,CAAEC,gBAAgB,CAAC,CAAGjN,KAAK,CAAC8B,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACoL,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGnN,KAAK,CAAC8B,QAAQ,CAAC,KAAK,CAAC,CAE3E;AACA,KAAM,CAAAsL,sBAAsB,CAAG,KAAO,CAAAC,WAAW,EAAK,CACpDF,sBAAsB,CAAC,IAAI,CAAC,CAC5B,GAAI,KAAAG,qBAAA,CAAAC,oBAAA,CAAAC,sBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,qBAAA,CAAAC,qBAAA,CAAAC,kBAAA,CAAAC,mBAAA,CAAAC,sBAAA,CAAAC,mBAAA,CAAAC,oBAAA,CACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,KAAM,CAAAC,WAAW,uBAAA9J,MAAA,CAAyBsB,IAAI,CAACC,KAAK,EAAAyH,qBAAA,EAAAC,oBAAA,CAACF,WAAW,CAACrL,OAAO,UAAAuL,oBAAA,iBAAnBA,oBAAA,CAAqB3G,IAAI,UAAA0G,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAAC,gBAAAhJ,MAAA,EAAAkJ,sBAAA,EAAAC,qBAAA,CAAWJ,WAAW,CAACrL,OAAO,UAAAyL,qBAAA,iBAAnBA,qBAAA,CAAqB9H,QAAQ,UAAA6H,sBAAA,UAAAA,sBAAA,CAAI,CAAC,+BAAAlJ,MAAA,CAA6BsB,IAAI,CAACC,KAAK,EAAA6H,sBAAA,EAAAC,qBAAA,CAACN,WAAW,CAACrL,OAAO,UAAA2L,qBAAA,iBAAnBA,qBAAA,CAAqB7E,SAAS,UAAA4E,sBAAA,UAAAA,sBAAA,CAAI,CAAC,CAAC,yBAAApJ,MAAA,CAAoBsB,IAAI,CAACC,KAAK,EAAA+H,sBAAA,EAAAC,qBAAA,CAACR,WAAW,CAACrL,OAAO,UAAA6L,qBAAA,iBAAnBA,qBAAA,CAAqB/H,OAAO,UAAA8H,sBAAA,UAAAA,sBAAA,CAAI,CAAC,CAAC,6CAAAtJ,MAAA,CAA2CsB,IAAI,CAACC,KAAK,EAAAiI,qBAAA,EAAAC,kBAAA,CAACV,WAAW,CAACvG,KAAK,UAAAiH,kBAAA,kBAAAC,mBAAA,CAAjBD,kBAAA,CAAoB,CAAC,CAAC,UAAAC,mBAAA,iBAAtBA,mBAAA,CAAwBxG,GAAG,UAAAsG,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAAC,cAAAxJ,MAAA,CAASsB,IAAI,CAACC,KAAK,EAAAoI,sBAAA,EAAAC,mBAAA,CAACb,WAAW,CAACvG,KAAK,UAAAoH,mBAAA,kBAAAC,oBAAA,CAAjBD,mBAAA,CAAoB,CAAC,CAAC,UAAAC,oBAAA,iBAAtBA,oBAAA,CAAwBhH,GAAG,UAAA8G,sBAAA,UAAAA,sBAAA,CAAI,CAAC,CAAC,6BAAwB,CAElbhB,gBAAgB,CAACmB,WAAW,CAAC,CAC/B,CAAE,MAAOtL,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDmK,gBAAgB,CAAC,6DAA6D,CAAC,CACjF,CAAC,OAAS,CACRE,sBAAsB,CAAC,KAAK,CAAC,CAC/B,CACF,CAAC,CAEDnN,KAAK,CAAC+B,SAAS,CAAC,IAAM,CACpB,cAAe,CAAAsM,UAAUA,CAAAC,KAAA,CAAa,IAAZ,CAAEC,MAAO,CAAC,CAAAD,KAAA,CAClC,GAAI,CACF,KAAM,CAACE,CAAC,CAAEC,CAAC,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAC/B1O,oBAAoB,CAACsO,MAAM,CAACK,QAAQ,CAAEL,MAAM,CAACM,SAAS,CAAC,CACvD1O,uBAAuB,CAACoO,MAAM,CAACK,QAAQ,CAAEL,MAAM,CAACM,SAAS,CAAC,CAC3D,CAAC,CACF3C,OAAO,CAACsC,CAAC,CAAC,CAAE3B,MAAM,CAAC4B,CAAC,CAAC,CACvB,CAAE,MAAOzL,CAAC,CAAE,CAAEmJ,QAAQ,CAACnJ,CAAC,CAAC,CAAE,CAAC,OACpB,CAAEqJ,UAAU,CAAC,KAAK,CAAC,CAAE,CAC/B,CACA,cAAe,CAAAyC,OAAOA,CAAA,CAAG,CACvB,GAAI,CACF,KAAM,CAACN,CAAC,CAAEC,CAAC,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAC/B1O,oBAAoB,CAAC,OAAO,CAAE,OAAO,CAAC,CACtCE,uBAAuB,CAAC,OAAO,CAAE,OAAO,CAAC,CAC1C,CAAC,CACF+L,OAAO,CAACsC,CAAC,CAAC,CAAE3B,MAAM,CAAC4B,CAAC,CAAC,CACvB,CAAE,MAAOzL,CAAC,CAAE,CAAEmJ,QAAQ,CAACnJ,CAAC,CAAC,CAAE,CAAC,OACpB,CAAEqJ,UAAU,CAAC,KAAK,CAAC,CAAE,CAC/B,CACA,GAAI0C,SAAS,CAACC,WAAW,CAAED,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAACZ,UAAU,CAAES,OAAO,CAAC,CAAC,IACpF,CAAAA,OAAO,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN9O,KAAK,CAAC+B,SAAS,CAAC,IAAM,CACpB,GAAI,CAAAmN,MAAM,CAAG,IAAI,CACjB,KAAM,CAAAC,CAAC,CAAGC,UAAU,CAAC,IAAM,CACzBlP,YAAY,CAACoM,KAAK,CAAC,CAAC+C,IAAI,CAACC,GAAG,EAAI,CAAE,GAAIJ,MAAM,CAAEzC,cAAc,CAAC6C,GAAG,CAAC,CAAE,CAAC,CAAC,CACvE,CAAC,CAAE,GAAG,CAAC,CACP,MAAO,IAAM,CAAEJ,MAAM,CAAG,KAAK,CAAEK,YAAY,CAACJ,CAAC,CAAC,CAAE,CAAC,CACnD,CAAC,CAAE,CAAC7C,KAAK,CAAC,CAAC,CAEXtM,KAAK,CAAC+B,SAAS,CAAC,IAAM,CACpB,QAAS,CAAAgG,OAAOA,CAAC/E,CAAC,CAAE,CAClB,KAAM,CAAAN,SAAS,CAAG8M,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC,CACnD,GAAI/M,SAAS,EAAI,CAACA,SAAS,CAACgN,QAAQ,CAAC1M,CAAC,CAAC2M,MAAM,CAAC,CAAElD,cAAc,CAAC,EAAE,CAAC,CACpE,CACAmD,MAAM,CAACC,gBAAgB,CAAC,OAAO,CAAE9H,OAAO,CAAC,CACzC,MAAO,IAAM6H,MAAM,CAACE,mBAAmB,CAAC,OAAO,CAAE/H,OAAO,CAAC,CAC3D,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAgI,MAAMA,CAACC,IAAI,CAAE,CACpBtD,QAAQ,CAAC,CAACsD,IAAI,CAACC,IAAI,CAAED,IAAI,CAACE,MAAM,CAAEF,IAAI,CAACG,OAAO,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC3E7D,cAAc,CAAC,EAAE,CAAC,CAClBF,QAAQ,CAAC,EAAE,CAAC,CACZF,UAAU,CAAC,IAAI,CAAC,CAChBqC,OAAO,CAACC,GAAG,CAAC,CACV1O,oBAAoB,CAAC+P,IAAI,CAACpB,QAAQ,CAAEoB,IAAI,CAACnB,SAAS,CAAC,CACnD1O,uBAAuB,CAAC6P,IAAI,CAACpB,QAAQ,CAAEoB,IAAI,CAACnB,SAAS,CAAC,CACvD,CAAC,CACCQ,IAAI,CAACkB,KAAA,EAAY,IAAX,CAAC/B,CAAC,CAAEC,CAAC,CAAC,CAAA8B,KAAA,CAAOrE,OAAO,CAACsC,CAAC,CAAC,CAAE3B,MAAM,CAAC4B,CAAC,CAAC,CAAE,CAAC,CAAC,CAC5C+B,KAAK,CAACrE,QAAQ,CAAC,CACfsE,OAAO,CAAC,IAAMpE,UAAU,CAAC,KAAK,CAAC,CAAC,CACrC,CAEA,QAAS,CAAAqE,MAAMA,CAACC,OAAO,CAAE,CACvB,GAAIA,OAAO,EAAI,IAAI,CAAE,MAAO,CAAAA,OAAO,CACnC,MAAO,CAAAhE,IAAI,GAAK,GAAG,CAAG/G,IAAI,CAACC,KAAK,CAAC8K,OAAO,CAAC,CAAG/K,IAAI,CAACC,KAAK,CAAE8K,OAAO,CAAG,CAAC,CAAI,CAAC,CAAG,EAAE,CAAC,CAChF,CAEA3Q,KAAK,CAAC+B,SAAS,CAAC,IAAM,CACpB,KAAM,CAAA6O,IAAI,CAAGpB,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC,CAChD,GAAI,CAACmB,IAAI,CAAE,OACX,QAAS,CAAAC,MAAMA,CAAC7N,CAAC,CAAE,CACjB,KAAM,CAAE8N,UAAU,CAAEtC,CAAC,CAAEuC,WAAW,CAAElH,CAAE,CAAC,CAAG+F,MAAM,CAChD,KAAM,CAAAoB,CAAC,CAAG,CAAChO,CAAC,CAACiO,OAAO,CAAGzC,CAAC,CAAG,GAAG,EAAI,CAAC,CACnC,KAAM,CAAA0C,CAAC,CAAG,CAAClO,CAAC,CAACmO,OAAO,CAAGtH,CAAC,CAAG,GAAG,EAAI,CAAC,CACnC,KAAM,CAAAuH,MAAM,CAAGR,IAAI,CAACS,gBAAgB,CAAC,QAAQ,CAAC,CAC9CD,MAAM,CAACE,OAAO,CAAC,CAACC,EAAE,CAAEtK,CAAC,GAAK,CACxB,KAAM,CAAAuK,KAAK,CAAGvK,CAAC,GAAK,CAAC,CAAG,EAAE,CAAG,EAAE,CAC/BsK,EAAE,CAACnQ,KAAK,CAACoK,SAAS,eAAAlH,MAAA,CAAiB,CAAC,GAAG,CAAG2C,CAAC,CAAC,GAAG,mBAAA3C,MAAA,CAAiB0M,CAAC,CAACQ,KAAK,SAAAlN,MAAA,CAAO4M,CAAC,CAACM,KAAK,eAAAlN,MAAA,CAAa,GAAG,CAAG2C,CAAC,CAAC,GAAG,KAAG,CAClH,CAAC,CAAC,CACFuI,QAAQ,CAACiC,eAAe,CAACrQ,KAAK,CAACsQ,WAAW,CAAC,SAAS,IAAApN,MAAA,CAAK0M,CAAC,CAAC,CAAC,OAAK,CAAC,CAClExB,QAAQ,CAACiC,eAAe,CAACrQ,KAAK,CAACsQ,WAAW,CAAC,SAAS,IAAApN,MAAA,CAAK,CAAC4M,CAAC,CAAC,CAAC,OAAK,CAAC,CACrE,CACAtB,MAAM,CAACC,gBAAgB,CAAC,WAAW,CAAEgB,MAAM,CAAC,CAC5C,MAAO,IAAMjB,MAAM,CAACE,mBAAmB,CAAC,WAAW,CAAEe,MAAM,CAAC,CAC9D,CAAC,CAAE,EAAE,CAAC,CAEN;AACA7Q,KAAK,CAAC+B,SAAS,CAAC,IAAM,CACpB,QAAS,CAAA4P,iBAAiBA,CAAC3O,CAAC,CAAE,CAC5B,KAAM,CAAAgO,CAAC,CAAG,CAAChO,CAAC,CAAC4O,KAAK,EAAI,CAAC,EAAI,EAAE,CAAE;AAC/B,KAAM,CAAAV,CAAC,CAAG,CAAClO,CAAC,CAAC6O,IAAI,EAAI,CAAC,EAAI,EAAE,CAAG;AAC/BrC,QAAQ,CAACiC,eAAe,CAACrQ,KAAK,CAACsQ,WAAW,CAAC,SAAS,IAAApN,MAAA,CAAK0M,CAAC,OAAK,CAAC,CAChExB,QAAQ,CAACiC,eAAe,CAACrQ,KAAK,CAACsQ,WAAW,CAAC,SAAS,IAAApN,MAAA,CAAK,CAAC4M,CAAC,OAAK,CAAC,CACnE,CACAtB,MAAM,CAACC,gBAAgB,CAAC,mBAAmB,CAAE8B,iBAAiB,CAAC,CAC/D,MAAO,IAAM/B,MAAM,CAACE,mBAAmB,CAAC,mBAAmB,CAAE6B,iBAAiB,CAAC,CACjF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA3R,KAAK,CAAC+B,SAAS,CAAC,IAAM,KAAA+P,mBAAA,CAAAC,cAAA,CAAAC,sBAAA,CAAAC,cAAA,CAAAC,mBAAA,CAAAC,aAAA,CAAAC,cAAA,CACpB,GAAI,CAAC7M,IAAI,CAAE,OACX,KAAM,CAAA4J,CAAC,EAAA2C,mBAAA,EAAAC,cAAA,CAAGxM,IAAI,CAACvD,OAAO,UAAA+P,cAAA,iBAAZA,cAAA,CAAcnL,IAAI,UAAAkL,mBAAA,UAAAA,mBAAA,CAAI,EAAE,CAClC,KAAM,CAAAnM,QAAQ,EAAAqM,sBAAA,EAAAC,cAAA,CAAG1M,IAAI,CAACvD,OAAO,UAAAiQ,cAAA,iBAAZA,cAAA,CAActM,QAAQ,UAAAqM,sBAAA,UAAAA,sBAAA,CAAI,CAAC,CAC5C,KAAM,CAAA3I,GAAG,EAAA6I,mBAAA,EAAAC,aAAA,CAAG5M,IAAI,CAAC+D,MAAM,UAAA6I,aAAA,kBAAAC,cAAA,CAAXD,aAAA,CAAc,CAAC,CAAC,UAAAC,cAAA,iBAAhBA,cAAA,CAAkB/I,GAAG,UAAA6I,mBAAA,UAAAA,mBAAA,CAAI,CAAC,CACtC,KAAM,CAAAG,QAAQ,CAAG1M,QAAQ,CAAG,EAAE,EAAI0D,GAAG,CAAG,EAAE,CAAG,YAAY,CAAG8F,CAAC,EAAI,EAAE,CAAG,YAAY,CAAGA,CAAC,EAAI,EAAE,CAAG,WAAW,CAAG,YAAY,CACzHpC,QAAQ,CAACsF,QAAQ,CAAC,CACpB,CAAC,CAAE,CAAC9M,IAAI,CAAC,CAAC,CAEV,mBACE3E,KAAA,QAAKI,SAAS,QAAAsD,MAAA,CAASwI,KAAK,CAAG,CAAA/L,QAAA,eAC7BL,IAAA,QAAKM,SAAS,CAAC,UAAU,CAAE,CAAC,cAC5BJ,KAAA,QAAKI,SAAS,CAAC,UAAU,CAAC,kBAAW,CAAAD,QAAA,eACnCL,IAAA,QAAKM,SAAS,CAAC,WAAW,CAAE,CAAC,cAC7BN,IAAA,QAAKM,SAAS,CAAC,iBAAiB,CAAE,CAAC,EAChC,CAAC,cACNJ,KAAA,QAAKI,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3BL,IAAA,CAACO,MAAM,EAACE,KAAK,CAAEA,KAAM,CAAE,CAAC,cACxBP,KAAA,QAAKI,SAAS,CAAC,UAAU,CAAAD,QAAA,eACvBL,IAAA,WAAQM,SAAS,WAAAsD,MAAA,CAAYqI,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAG,CAAC5E,OAAO,CAAEA,CAAA,GAAM6E,OAAO,CAAC,GAAG,CAAE,CAAA7L,QAAA,CAAC,OAAE,CAAQ,CAAC,cAC/FL,IAAA,WAAQM,SAAS,WAAAsD,MAAA,CAAYqI,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAG,CAAC5E,OAAO,CAAEA,CAAA,GAAM6E,OAAO,CAAC,GAAG,CAAE,CAAA7L,QAAA,CAAC,OAAE,CAAQ,CAAC,EAC5F,CAAC,cACNH,KAAA,QAAKI,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACrBL,IAAA,UACEgF,KAAK,CAAE4G,KAAM,CACbgG,QAAQ,CAAEtP,CAAC,EAAIuJ,QAAQ,CAACvJ,CAAC,CAAC2M,MAAM,CAACjK,KAAK,CAAE,CACxC6M,WAAW,CAAC,qBAAqB,CAClC,CAAC,CACD/F,WAAW,CAAC5C,MAAM,CAAG,CAAC,eACrBlJ,IAAA,QAAKM,SAAS,CAAC,aAAa,CAAAD,QAAA,CACzByL,WAAW,CAACnG,GAAG,CAACqF,CAAC,eAChB9K,KAAA,WAAmBmH,OAAO,CAAEA,CAAA,GAAMgI,MAAM,CAACrE,CAAC,CAAE,CAAA3K,QAAA,EACzC2K,CAAC,CAACuE,IAAI,CAAEvE,CAAC,CAACwE,MAAM,MAAA5L,MAAA,CAAQoH,CAAC,CAACwE,MAAM,EAAK,EAAE,CAAC,IAAE,CAACxE,CAAC,CAACyE,OAAO,GAD1CzE,CAAC,CAACL,EAEP,CACT,CAAC,CACC,CACN,EACE,CAAC,CAELvI,KAAK,eAAIpC,IAAA,QAAKM,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAC,yBAAuB,CAAK,CAAC,cAE7DL,IAAA,CAACuH,cAAc,EAAC1C,IAAI,CAAEA,IAAI,CAAAiN,aAAA,CAAAA,aAAA,IAAQjN,IAAI,MAAEvD,OAAO,CAAAwQ,aAAA,CAAAA,aAAA,IAAOjN,IAAI,CAACvD,OAAO,MAAE4E,IAAI,CAAE8J,MAAM,EAAA9E,cAAA,CAACrG,IAAI,CAACvD,OAAO,UAAA4J,cAAA,iBAAZA,cAAA,CAAchF,IAAI,CAAC,CAAEkC,SAAS,CAAE4H,MAAM,EAAA7E,eAAA,CAACtG,IAAI,CAACvD,OAAO,UAAA6J,eAAA,iBAAZA,eAAA,CAAc/C,SAAS,CAAC,EAAE,CAAEhC,KAAK,EAAAgF,YAAA,CAAEvG,IAAI,CAACuB,KAAK,UAAAgF,YAAA,iBAAVA,YAAA,CAAYzF,GAAG,CAACoM,CAAC,EAAAD,aAAA,CAAAA,aAAA,IAASC,CAAC,MAAEtL,GAAG,CAAEuJ,MAAM,CAAC+B,CAAC,CAACtL,GAAG,CAAC,CAAEK,GAAG,CAAEkJ,MAAM,CAAC+B,CAAC,CAACjL,GAAG,CAAC,EAAE,CAAC,GAAK,IAAK,CAAE,CAAC,cAE9O5G,KAAA,QAAKI,SAAS,CAAC,OAAO,CAAAD,QAAA,eACpBL,IAAA,CAAC6I,UAAU,EAAChE,IAAI,CAAEA,IAAI,CAAAiN,aAAA,CAAAA,aAAA,IAAQjN,IAAI,MAAE+D,MAAM,EAAAyC,aAAA,CAAExG,IAAI,CAAC+D,MAAM,UAAAyC,aAAA,iBAAXA,aAAA,CAAa1F,GAAG,CAACwD,CAAC,EAAA2I,aAAA,CAAAA,aAAA,IAAS3I,CAAC,MAAEjD,IAAI,CAAE8J,MAAM,CAAC7G,CAAC,CAACjD,IAAI,CAAC,EAAE,CAAC,GAAK,IAAK,CAAE,CAAC,CAE7GrB,IAAI,eAAI7E,IAAA,CAACgE,kBAAkB,EAACa,IAAI,CAAEA,IAAK,CAAE,CAAC,CAE1C,CAAAA,IAAI,SAAJA,IAAI,kBAAAyG,UAAA,CAAJzG,IAAI,CAAEQ,GAAG,UAAAiG,UAAA,iBAATA,UAAA,CAAWxI,OAAO,IAAI+B,IAAI,SAAJA,IAAI,kBAAA0G,UAAA,CAAJ1G,IAAI,CAAEQ,GAAG,UAAAkG,UAAA,iBAATA,UAAA,CAAWxI,MAAM,gBACtC/C,IAAA,CAAC4C,OAAO,EAACE,OAAO,CAAE+B,IAAI,CAACQ,GAAG,CAACvC,OAAQ,CAACC,MAAM,CAAE8B,IAAI,CAACQ,GAAG,CAACtC,MAAO,CAAE,CAC/D,CAEA8B,IAAI,eAAI7E,IAAA,CAAC8F,aAAa,EAACjB,IAAI,CAAEA,IAAK,CAAE,CAAC,cAEtC7E,IAAA,CAAC+G,aAAa,EACZlC,IAAI,CAAEA,IAAK,CACXoC,iBAAiB,CAAEyF,sBAAuB,CAC1CxF,OAAO,CAAEoF,aAAc,CACvBnF,SAAS,CAAEqF,mBAAoB,CAChC,CAAC,cAEFxM,IAAA,CAACiK,QAAQ,GAAE,CAAC,cACZjK,IAAA,CAACqK,SAAS,GAAE,CAAC,EACV,CAAC,CAELqB,OAAO,eAAI1L,IAAA,QAAKU,KAAK,CAAE,CAACsR,SAAS,CAAC,EAAE,CAAEC,OAAO,CAAC,EAAE,CAAE,CAAA5R,QAAA,CAAC,eAAQ,CAAK,CAAC,EAC/D,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}